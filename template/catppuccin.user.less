/* ==UserStyle==
@name <port-name> Catppuccin
@namespace github.com/catppuccin/userstyles/styles/<port-name>
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/<port-name>
@version 2000.01.01
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/<port-name>/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3A<port-name>
@description Soothing pastel theme for <port-name>
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("<website-domain>") {
  /* This section applies the light/dark themes automatically based on the user's system theme.
     Use the below example CSS to start if the website you are theming doesn't have a light/dark mode toggle.
     For an actual example of this, see https://github.com/catppuccin/userstyles/blob/39288b593278e5efa48007d5fc001292cf910672/styles/brave-search/catppuccin.user.css#L16-L29.
  */
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  /* If the website you are theming *does* have a light/dark mode toggle,
     you can conditionally enable light/dark flavors by targeting whatever
     attribute that website uses to indicate the theme. *The example below gives you an idea of what
     to look for. The website you are theming may use a class-based approach (e.g. :root.theme-dark),
     or any of the myriad of other methods like this.*
     Use the below example CSS to start if this is the case.
     For an actual example of this, see https://github.com/catppuccin/userstyles/blob/39288b593278e5efa48007d5fc001292cf910672/styles/youtube/catppuccin.user.css#L21-L30.
  */
  :root[data-theme="dark"] {
    #catppuccin(@darkFlavor);
  }
  :root[data-theme="light"] {
    #catppuccin(@lightFlavor);
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    /* Start styling your website here: */
    background-color: @base;

    /* If you need to specify an overwrite specific to a flavor
     *  (e.g. only when the flavor is set to latte), you can use a `when` guard clause. */
    & when (@flavor = latte) {
      /* ... */
    }
    /* You can also negate the statement above by using
     *  a `when not` guard clause. */
    & when not(@flavor = latte) {
      /* ... */
    }
  }
}

/* If the website is a wiki and uses the popular MediaWiki backend, with a Vector 2022 skin,
   you can furthermore reset the MediaWiki variables of the site and rewrite them easily,
   with our dedicated library. It maps the standard variables, icons, toolbar theming, and
   much more.
*/
@import "https://userstyles.catppuccin.com/lib/mediawiki.less";

// Outside the #catppuccin mixin, add the reset block to remove the base mediawiki settings included on the page itself.

#__mediawiki.reset();

@-moz-document domain("<website-domain>") {
  /* Given that we're working with Vector 2022 skins primarily, here we can add specificity
     by matching to skins directly.
  */

  /* This matches pages using OS/automatic/no theme. */
  :root.skin-theme-clientpref-os,
  .vector-feature-night-mode-enabled,
  .skin-invert,
  .notheme {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  /* This matches dark/night theme. */
  :root.skin-theme-clientpref-night {
    #catppuccin(@darkFlavor);
  }

  /* This matches light/day theme. */
  :root.skin-theme-clientpref-day {
    #catppuccin(@lightFlavor);
  }

  /* Now we reset the MediaWiki variables, to prepare the page for our own styling. This
     clears any image filters that might disrupt standard behaviours we define, as well as
     unusual MediaWiki settings that are tied to dark/automatic mode.
  */
  #__mediawiki.reset();

  /* Within the `#catppuccin` mixin, add the base block to add the defaults, as usual. */
  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    /* Then, add the base() mixin, to set the entire default MediaWiki variables and settings. */
    #__mediawiki.base();

    /* Now you can put whatever overrides that a page may have that overrides the MediaWiki
       defaults, to its Catppuccin counterpart here!
    */
    /* ... */
  }
}
