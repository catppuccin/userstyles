/* ==UserStyle==
@name Bilibili Catppuccin
@namespace github.com/catppuccin/userstyles/styles/bilibili
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/bilibili
@version 0.1.0
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/bilibili/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Abilibili
@description Soothing pastel theme for bilibili
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire*", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */
@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("bilibili.com") , domain("www.bilibili.com") {
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    /* 覆盖B站的CSS变量 */
    :root,
    #app,
    body {
      --text1: @text !important;
      --text2: @subtext0 !important;
      --text3: @subtext1 !important;
      --bg1: @surface0 !important; /* 主要背景色（评论框激活） */
      --bg3: @surface0 !important; /* 评论框背景 */
      --Ga1: @surface1 !important; /* 评论框边框 */
      --graph_bg_thick: @surface0 !important; /* 激活状态背景 */
      --graph_weak: @surface1 !important; /* 按钮边框 */
      --brand_blue: @mauve !important; /* 品牌蓝色改为紫色 */
      --brand_blue_rgb: 203, 166, 247 !important; /* 紫色RGB值 (Catppuccin Mauve) */
    }

    body {
      background-color: @base;

      & > div {
        color: @text;
        background-color: @surface0;
      }
    }

    a:link,
    a:visited {
      color: @accent;
    }

    //  === 首页背景色 ===
    .bili-feed4{  //首页推荐区块背景
        background-color:@base !important; //base 背景色
    }
    .bili-header .large-header { //头部背景
        background-color: @mantle !important; //mantle 头部背景色
    }
    .bili-header__bar { //顶部栏
        background-color: @mantle !important; 
    }


    //  === 顶部左侧文字 ====
    .bili-header__bar .left-entry span,
    .bili-header__bar .left-entry a { //主页左上角标题文字
        color : @text !important;
    }

    .bili-header__bar .left-entry span:hover,
    .bili-header__bar .left-entry a:hover { //主页左侧图标悬停
        color : @accent !important;
    }
    .bili-header__bar .left-entry .entry-title svg.zhuzhan-icon,
    .bili-header__bar .left-entry .entry-title svg.zhuzhan-icon path,
    .bili-header__bar .left-entry .entry-title svg.zhuzhan-icon use{
        fill: @mauve !important; //主页左侧图标颜色
        stroke: @mauve !important;
    }
    .zhuzhan-icon{
        fill: @mauve !important; //主页左侧图标颜色
    }
    .bili-header .left-entry .mini-header__logo,
    .bili-header .left-entry .mini-header__logo svg,
    .bili-header .left-entry .mini-header__logo svg path,
    .bili-header .left-entry svg.mini-header__logo,
    .bili-header .left-entry svg.mini-header__logo path {
        fill: @mauve !important; //左上角小logo紫色
        stroke: @mauve !important;
    }
    


    //  === 顶部搜索框 ===
    .bili-header .center-search-container {
        background-color: @mantle !important; //搜索框背景
    }
    .nav-search,
    .nav-search .center-search__bar {
        background-color: @mantle !important; //搜索框下拉
    }
    .trending-item {
        color: @mauve !important;   //搜索框下拉文字
    }
    .nav-search-content {
        background-color: @mantle !important; //搜索框外圈
        border: 2px solid @mauve !important; //搜索框外圈边框
    }
    .nav-searchform,
    #nav-searchform,
    #nav-searchform.is-focus {
        border-color: @surface1 !important; //搜索框边框
        background-color: @surface0 !important; //搜索框内部背景
    }
    .nav-search-input {
        background-color: @surface0 !important;
        color: @text !important;   //搜索框输入
    }
    .nav-search-input::placeholder {
        color: @subtext0 !important;   //搜索框占位符   
    }
    .search-panel { //搜索建议下拉
        background-color: @surface0 !important;
        border-color: @surface1 !important;
    }
    .history-item {
        background-color: @surface1 !important; //搜索历史背景
    }
    .history-item:hover,
    .search-panel .history-item:hover {
        background-color: fade(@surface2, 50%) !important; //搜索历史悬停背景（更暗）
    }
    .trending-item:hover {
        background-color: fade(@surface2, 50%) !important; //热搜悬停
    }
    .history .header .title{
        color: @text !important;  //搜索历史标题文字
    }
    .history-text{
        color: @text !important;  //搜索历史文字
    }
    .trending .header .title{
        color: @text !important;  //搜索热门标题文字
    }
    .trendings-rank .search-rank-top{
        color : @yellow !important;  //搜索热门排行文字
    }
    .suggest-item {
        color: @text !important;   //搜索建议文字
    }
    .suggest-item:hover {
        background-color: @surface0 !important; //搜索建议悬停
        color: @accent !important;  //搜索建议悬停文字
    }
   

    // === 顶部右侧图标 ===
    .bili-header .right-entry__outside .right-entry-icon svg,
    .bili-header .right-entry__outside .right-entry-icon svg path,
    .bili-header .right-entry__outside .right-entry-icon svg use,
    .bili-header__bar .right-entry__outside svg,
    .bili-header__bar .right-entry__outside svg path,
    .bili-header__bar .right-entry__outside svg use {
        fill: @mauve !important; //右侧图标颜色
        stroke: @mauve !important;
        color: @mauve !important;
    }
    .bili-header .header-upload-entry {
        background-color: @mauve !important; //上传按钮背景
    }
   








    // === 顶部下面分区栏目 ===
    .bili-header__channel {
        background-color: @base !important; //分区栏目背景
        padding: 8px 16px !important; //分区栏目内边距
    }
    .bili-header__channel .channel-icons {
        color: @text !important; //分区栏目文字
    }
    .right-channel-container{
        background-color: @base !important; //分区栏目背景
    }
    .channel-items_left{
        background-color: @base !important; //分区栏目左侧背景
        gap: 8px !important; //分区栏目左侧文字间距
    }
    .bili-header__channel .channel-link{
        background-color :@mauve !important; //分区栏目文字
        color: @text !important;  //文字颜色
        border-radius: 8px !important;  /* 圆角 */
        padding: 4px 10px !important;  /* 内边距 */
        font-size: 13px !important; /* 缩小字体 */
        font-weight: 500 !important;  /* 字体加粗 */
        margin: 0 4px !important; /* 按钮间距 */
        display: inline-block !important;
        transition: all 0.2s !important;
    }

    .bili-header__channel .channel-link:hover{
        background-color: @mauve !important; //分区栏目文字悬停背景
        color :@text !important; 
        transform: scale(1.05) !important; /* 悬停微微放大 */
    }
    .channel-entry-more__link{//分区栏目"更多"
        background-color: @mauve !important; /* 紫色背景 */
        color: @crust !important; /* 深色文字 */
        border-radius: 8px !important;
        padding: 4px 10px !important;
        font-size: 13px !important;
        font-weight: 500 !important;
        margin: 0 4px !important;
        display: inline-block !important;
        transition: all 0.2s !important;
    }

    .channnel-entry-more__link:hover{
        background-color: @accent !important; /* 悬停变强调色 */
        color: @crust !important; //分区栏目"更多"悬停
        transform: scale(1.05) !important; /* 悬停微微放大 */
    }
    
    /* "更多"下拉菜单容器 */
    .channel-menu {
        background-color: @base !important; /* 大背景色 */
        border-radius: 8px !important;
        padding: 12px !important;
        box-shadow: 0 4px 12px rgba(0,0,0,0.3) !important;
    }

    /* 下拉菜单里的文字链接 */
    .channel-menu__item,
    .channel-menu a {
        color: @mauve !important; /* 紫色文字 */
        padding: 4px 8px !important;
        border-radius: 4px !important;
        transition: all 0.2s !important;
    }

    .channel-menu__item:hover,
    .channel-menu a:hover {
        background-color: @surface0 !important; /* 悬停背景 */
        color: @accent !important; /* 悬停文字变强调色 */
    }

    .channel-link__right span{
        color: @mauve !important; //分区栏目右侧文字
    }
    
    .channel-icons .icon-bg__dynamic svg{
        fill: @mauve !important; //分区栏目动态图标
    }
    .channel-icons .icon-bg__popular svg{
        fill: @mauve !important; //分区栏目直播图标
    }



    // === 滑动分区栏目 ===
    .header-channel {
        background: @surface1 !important; //channel滑动时出现的bar
    }
    .left-fixed-channel a{
        color: @mauve !important; //滑动分区栏目左侧固定文字
    }
    .left-fixed-channel a :hover{
        color: @accent !important; //滑动分区栏目左侧固定文字悬停
    }
    .header-channel-fixed-right-item a{
        color: @mauve !important; //滑动分区栏目右侧固定文字
    }
    .header-channel-fixed-right-item a :hover{
        color: @accent !important; //滑动分区栏目右侧固定文字悬停
    }
    
    










    .shortcut-bg{
        background-color: @surface0 !important; //分区栏目叠放卡片视频窗内背景
    }







    // ===视频界面===
    .video-container-v1{
        background-color: @base !important; //视频播放界面背景
    } 
    .video-info-container .video-info-title-inner .video-title[data-v-fe6ec38e]{
        color: @text !important; //视频播放界面标题文字
    }
    .bpx-player-sending-bar{
        background-color: @mantle !important; //视频发送弹幕栏背景
    }
    .bpx-player-video-info-online{
        color: @text !important; //视频播放界面在线人数文字
    }
    .bpx-player-video-info-divide{
        color: @text !important; //视频播放界面分隔符文字
    }
    .bpx-player-video-info-dm{
        color: @text !important; //视频播放界面弹幕数文字
    }
    .bui-button .bui-area.bui-button-blue, .bui-button .bui-area.bui-button-gray3:hover{
        background-color: @mauve !important; //视频播放界面播放按钮背景
        color: @text !important; //视频播放界面播放按钮文字
    }
    .video-info-detail-list[data-v-0c3641b4]{
        color: @text !important; //视频播放界面视频详情文字
    }
    .video-info-detail-list .copyright .copyright-icon[data-v-0c3641b4]{
        fill: @mauve !important; //视频播放界面版权图标颜色
    }
    .up-detail .up-detail-top .up-name[data-v-5f1f09f0]{
        color: @mauve !important; //视频播放界面up主名称文字
    }
    .up-detail .up-detail-top .send-msg[data-v-5f1f09f0]{
        color: @text !important; //视频播放界面 "发消息" 文字
    }
    .up-detail .up-description[data-v-5f1f09f0]{
        color: @text !important; //视频播放界面up主描述文字
    }
    .upinfo-btn-panel .new-charge-btn.charge-btn-loaded[data-v-db02d4c6]{
        background-color: @surface0 !important; //视频播放界面 "充电" 按钮背景
        border: 1px solid @mauve !important; //视频播放界面 "充电" 按钮边框颜色
    }
    .upinfo-btn-panel .follow-btn.not-follow[data-v-db02d4c6]{
        background-color: @surface0 !important; //视频播放界面 "关注" 按钮背景
        color: @text !important; //视频播放界面 "关注" 按钮文字
    }
    .bui-collapse .bui-collapse-header{
        background-color: @surface0 !important; //视频播放界面视频描述折叠栏背景
        color: @text !important; //视频播放界面视频描述折叠栏文字
    }
    .upinfo-btn-panel .new-charge-btn[data-v-db02d4c6]{
        color: @mauve !important; //视频播放界面 "充电" 按钮文字
    }
    .video-pod[data-v-dac4fbd2]{
        background-color: @surface1 !important; //视频播放界面系列视频卡片背景
    }
    .video-pod .video-pod__header .header-top .left .title[data-v-dac4fbd2]{
        color: @text !important; //视频播放界面系列视频卡片标题文字
    }
    .video-pod .video-pod__header .header-top .left .amt[data-v-dac4fbd2]{
        color: @text !important; //视频播放界面系列视频卡片数量文字
    }
    .continuous-btn .txt{
        color: @text !important; //视频播放界面系列视频 "自动连播" 文字
    }
    .switch-btn.on{
        background-color: @mauve !important; //视频播放界面系列视频 "自动连播" 开启背景
    }
    .switch-btn .switch-block{
        background-color: @text !important; //视频播放界面系列视频 "自动连播" 按钮颜色
    }
    .video-pod .video-pod__header .header-bottom[data-v-dac4fbd2]{
        color: @text !important; //视频播放界面系列视频卡片底部文字
    }
    .video-pod .video-pod__header .header-bottom .right .subscribe-btn[data-v-dac4fbd2]{
        color: @mauve !important; //视频播放界面系列视频卡片"订阅合集“文字
        border: 1px solid @mauve !important; //视频播放界面系列视频卡片"订阅合集“边框
    }
    .simple-base-item .title{
        color: @text !important; //视频播放界面相关推荐视频标题文字 
    }
    .simple-base-item .stats{
        color: @subtext0 !important; //视频播放界面相关推荐视频统计文字
    }
    .video-toolbar-left-item{
        color: @text !important; //视频播放界面工具栏文字
    }
    .video-toolbar-right-item{
        color: @text !important; //视频播放界面工具栏右侧文字
    }
    .video-desc-container .basic-desc-info[data-v-8ced1e78]{
        color: @text !important; //视频播放界面视频描述文字
    }
    .video-desc-container .toggle-btn-text[data-v-8ced1e78]{
        color: @text !important; //视频播放界面视频描述展开收起文字
    }
    .video-tag-container .tag-panel .tag-link{
        background-color: @surface1 !important; //视频播放界面视频标签背景
        color: @text !important; //视频播放界面视频标签文字
    }
    #title h2,
    .bili-comments-header-renderer #title h2,
    div#title h2 {
        color: @text !important; //视频播放界面标题 "评论“
    }
    #title #count{
        color: @subtext0 !important; //视频播放界面标题 "评论数“
    }
    .button{
        color: @subtext0 !important; //视频播放界面标题 "评论排序按钮“文字
    }
    #editor .active{
        background-color: @surface0 !important; //视频播放界面标题 "评论条“背景
        color: @text !important;
    }
    #editor.active,
    div#editor.active {
        background-color: @surface0 !important;
        border-color: @mauve !important;
    }
    .tool-btn{
        background-color: @surface0 !important; //视频播放界面标题 "评论条"下方按钮背景
        color: @text !important;
        border: 1px solid @surface1 !important;
    }    .tool-btn svg,
    .tool-btn svg path,
    .button.tool-btn.emoji svg,
    .button.tool-btn svg {
        fill: @mauve !important; //评论工具栏图标紫色
        stroke: @mauve !important;
        color: @mauve !important;
    }    #input #inner{
        background-color: @surface0 !important; //视频播放界面标题 "转发确认方块“背景
        border: @mauve !important;
    }
    #pub button,
    .bili-comment-box #pub button,
    button[data-v-risk="fingerprint"] {
        background-color: @mauve !important; //视频播放界面标题 "评论发布按钮"背景
        color: @crust !important;
        opacity: 1 !important;
      }
    


      //视屏框内容
    .bpx-player-progress-schedule-current{
        background-color: @mauve !important; //进度条悬停提示点内部
    }
    .bpx-player-ctrl-btn{
        color: @text !important; //视频播放界面控制栏按钮文字
        fill: @text !important;
    }

    }

  }
