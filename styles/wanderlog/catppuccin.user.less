/* ==UserStyle==
@name Wanderlog Catppuccin
@namespace github.com/catppuccin/userstyles/styles/wanderlog
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/wanderlog
@version 2000.01.01
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/wanderlog/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Awanderlog
@description Soothing pastel theme for Wanderlog
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("wanderlog.com") {
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }
  :root[data-theme="dark"] {
    #catppuccin(@darkFlavor);
  }
  :root[data-theme="light"] {
    #catppuccin(@lightFlavor);
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    * {
      --brand: @accent;

      --blue: @blue;
      --indigo: @lavender;
      --purple: @mauve;
      --pink: @pink;
      --red: @red;
      --orange: @peach;
      --yellow: @yellow;
      --green: @green;
      --teal: @teal;
      --cyan: @sky;
      --white: #fff;
      --gray: #6c757d;
      --gray-dark: #343a40;
      --primary: @accent;
      --secondary: #6c757d;
      --success: @green;
      --info: @blue;
      --warning: @peach;
      --danger: @red;
      --light: #f3f4f5;
      --dark: #343a40;

      --indigo--base: @blue;
      --gray--900: @subtext0;
    }

    /* General */

    body {
      background-color: @base;
      color: @text;
    }

    h1 {
      color: @accent !important;
    }

    h2, h3 {
      color: @text !important;
    }

    p {
      color: @text !important;
    }

    section {
      background-color: @base;
    }

    a {
      color: @blue;
    }

    hr {
      border-top-color: @accent;
    }

    .text-white {
      color: @text !important;
    }

    .color-gray-600, .color-gray-900 {
      color: @subtext1;
    }

    .bg-white {
      background-color: @base !important;
    }
    .bg-light {
      background-color: @surface0 !important;
    }
    .bg-gray-100 {
      background-color: @base;
    }

    .text-danger {
      color: @red !important;
    }

    .brand-button {
      color: @base !important;

      &:hover {
        /* TODO: hover color */
      }
    }
    .Button__brand,
    .Button__shape__pill:not(.Button__flat):not(.Button__flat-primary):not(
      .Button__flat-secondary
    ),
    .badge {
      background-color: @accent;
      border-color: @accent;
      color: @mantle;

      &:not(.Button__disabled):hover {
        /* TODO: hover color */
        background-color: red;
        border-color: red;
      }

      svg {
        filter: @mantle-filter;
      }
    }
    .Button__disabled {
      opacity: 60%;
      opacity: 60%;
    }

    // Text buttons
    .Button__icon svg {
      filter: @accent-filter;
    }
    .Button__flat,
    .Button__flat-primary,
    .flat-button,
    .flat-button-text-block {
      color: @accent;

      &:hover {
        color: @blue;
      }
    }
    .Button__flat-secondary {
      color: @subtext0;

      &:hover {
        color: @subtext1;
      }
    }

    // Button links
    .btn-link {
      color: @blue;
    }

    // Wanderlog animated loading logo
    .Loading__logo {
      filter: @accent-filter;
    }

    .DropdownMenu {
      border-color: @accent;
      background-color: @surface0;
      color: @text;
    }
    .DropdownItem, .dropdown-item {
      color: @text;
      &:hover {
        background-color: @accent;
        color: @base;
      }
    }

    .popover {
      background-color: @surface0;
      border-color: @accent;
    }

    // Autosuggest dropdowns
    .react-autosuggest__container--open
      .react-autosuggest__suggestions-container {
      background-color: @surface0;
      border-color: @accent;
    }
    .react-autosuggest__suggestion--highlighted {
      background-color: @surface1;
    }

    // Top bar Wanderlog logo
    img[class^="Logo"] {
      filter: @accent-filter;
    }

    .text-muted {
      color: @subtext0 !important;
    }

    // Forms and inputs
    .form-control {
      background-color: @surface0;
      border-color: @accent;
      color: @subtext0;
    }
    .InputContainer__labelFocused {
      color: @subtext0;
    }
    .FormButton {
      &__label {
        color: @text;
      }

      &__sublabel {
        color: @subtext0;
      }
    }
    .FormButton:active .FormButton__icon,
    .FormButton:active .FormButton__label,
    .FormButton:hover .FormButton__icon,
    .FormButton:hover .FormButton__label {
      color: @subtext0;
    }
    .StyledRadio__circle {
      border-color: @text;
      &Selected {
        border-color: @accent;
      }
    }
    .Checkbox__box {
      background-color: @surface1;
      border-color: @text;
    }
    .Checkbox__checked .Checkbox__box {
      background-color: @accent;
      color: @base;
    }
    .Checkbox__edit:active + .Checkbox__box,
    .Checkbox__edit:focus + .Checkbox__box,
    .Checkbox__edit:hover + .Checkbox__box {
      background-color: @surface0;
      border-color: @accent;
      color: @subtext0;
    }
    .Checkbox__checked .Checkbox__edit:active + .Checkbox__box,
    .Checkbox__checked .Checkbox__edit:hover + .Checkbox__box {
      background-color: darken(@accent, 10%);
      color: @mantle;
    }

    // Date pickers
    .InputDateRangePicker__dateSet {
      color: @subtext0;

      .InputDateRangePicker__focusedDate {
        color: @accent;
      }
    }
    svg {
      &[data-icon="bed"], &[data-icon="user-group"] {
        filter: @subtext0-filter;
      }
    }
    .DateRangePickerInput, .DateRangePicker_picker {
      background-color: transparent;
    }
    .DayPicker,
    .DayPicker__horizontal,
    .CalendarMonth,
    .CalendarMonthGrid {
      background-color: @surface0;

      .btn {
        color: @text;
      }
    }
    .CalendarDay {
      &__default {
        background-color: @surface1;
        border-color: @accent;
        color: @text;

        &:hover {
          background-color: @surface2;
        }
      }
      &__selected, &__selected_span {
        background-color: @accent !important;
        border: @accent !important;
        color: @base;
      }
      &__hovered_span {
        background-color: fade(@accent, 50%);
      }
    }
    .CalendarMonth_caption, .DayPicker_weekHeader {
      color: @text;
    }
    .DayPickerNavigation_button__default {
      background-color: @accent;
      border-color: @accent;
      svg {
        filter: @base-filter;
      }
    }
    .DateRangePickerInput__withBorder {
      border-color: transparent !important;
    }

    // User icon bubbles
    .UserBubblesList__bubble {
      border-color: @accent;
    }
    .TextBubble__colorTheme__gray {
      &300 {
        background-color: @base;
        color: @accent;
      }
      &400, &500 {
        background-color: @accent;
        color: @base;
      }
    }

    .ModalHeader {
      background-color: @mantle;
    }

    // Footer
    .footer,
    .footer-container {
      background-color: @mantle !important;
      color: @text !important;
    }
    .footer-column-title {
      color: @text;
    }
    .Footer a, .footer-link, .Footer__link, .contact-us-button {
      color: @blue !important;
    }
    .footer-heart-wrapper, .Footer__noEmoji {
      filter: @accent-filter;
    }
    .footer-language-dropdown button {
      background-color: @surface0;
      border-color: @accent;
      color: @text;

      svg {
        filter: @accent-filter;
      }

      &:hover {
        background-color: @accent;
        color: @base;

        svg {
          filter: @base-filter;
        }
      }
    }

    /* Homepage */

    .NavbarContainer {
      background-color: @mantle !important;
      &.bg-white {
        border-bottom-color: @accent;
      }
    }
    // Navbar link
    .navbar-light .navbar-nav .nav-link {
      color: @text;
    }
    .NavbarNavLink {
      border-bottom-color: @accent;

      &:hover {
        background-color: @accent !important;
        color: @mantle !important;
      }
    }

    // Demo usage video
    div[class^="demo-video"], #hero-section-video-web {
      border-color: @accent;
    }

    // Review information for people
    // Used in "What travelers are raving about" and "Find your next adventure" sections
    .avatar-name {
      &-name {
        color: @text;
      }
      &-description {
        color: @subtext0;
      }
    }

    // "What travelers are raving about" section
    .card-review {
      background-color: @surface0;
      border-color: @accent;

      .stars-small {
        filter: @yellow-filter;
      }
    }
    .reviews-overlay---see-more {
      background-image: linear-gradient(#0000, @base);
    }

    // "Features to replace all your other tools" section
    .small-features-card {
      &-title {
        color: @text;
      }
      &-body-text {
        color: @subtext0;
      }
    }

    // "Recommended by the press" section
    .spotlight-card {
      background-color: @surface0;
      border-color: @accent;

      &-quote, &-author-text-author {
        color: @text;
      }

      &-author-text-username {
        color: @blue;
      }
    }
    .spotlight-splide {
      // Left right arrows
      .splide__arrows button {
        background-color: @accent;
        border-color: @accent;

        svg {
          filter: @mantle-filter;
        }
      }
    }

    // "Trips planned", "Reviews", "Rating on App Store", "Rating on Google Play" section
    .infographics-card {
      &-header {
        color: @accent;
      }

      &-subheader, &-body {
        color: @subtext0;
      }

      img {
        filter: @accent-filter;
      }
    }

    // Carousel section
    .home__feature_tab_overlay_left, .home__feature_tab_overlay_right {
      /* TODO: Figure out how to style carousel overlays */
      display: none;
    }
    .swiper {
      .swiper-slide-active .home__feature_tab_icon_container {
        background-color: @accent !important;
        svg {
          filter: @base-filter;
        }
      }
      .home__feature_tab_icon_container {
        background-color: @base !important;
        border-color: @accent;

        svg {
          filter: @text-filter;
        }
      }
      .home__feature_tab_title {
        color: @text;
      }
    }

    // "Maximize your trip planning with Pro" section
    .pro-features-card {
      background-color: @surface0;

      svg {
        filter: @accent-filter;
      }

      &-title {
        color: @text;
      }

      &-body-text {
        color: @subtext0;
      }
    }

    // "Find your next adventure" section
    .travel-guides-card {
      &-title {
        color: @text;
      }

      &-subtitle {
        color: @subtext0;
      }
    }
    .views-likes {
      div {
        color: @subtext0;
      }
      img {
        filter: @accent-filter;
      }
    }

    // "Create your ultimate travel itinerary" block
    .market-badges-container {
      background: @accent;
      .section-heading {
        color: @base !important;
      }
      .rating {
        background-color: @base;
      }

      .stars {
        filter: @yellow-filter;
      }

      .market-badges-text span {
        color: @text;
      }
    }

    /* Travel Guides Page */

    // Guide cards
    .Card {
      .Card__title {
        color: @text;
      }
      .ProfilePageNameLink {
        color: @text;
      }
      .VerifiedBadge {
        background-color: @accent;
        svg {
          filter: @base-filter;
        }
      }
    }

    // Location searching breadcrumbs
    .Breadcrumbs {
      a {
        color: @blue !important;
      }
      svg {
        filter: @accent-filter;
      }
    }

    /* Login/signup Page */
    .modal {
      background-color: @mantle;
      button:not(.Button__flat):not(.Button__flat-primary):not(
        .Button__flat-secondary
      ) {
        background-color: @surface0 !important;
        color: @text !important;
        border-color: @accent;

        img, svg {
          filter: @accent-filter !important;
        }
      }
      &-body {
        background-color: @base;
        // Sign up button
        .LoginFormBody > button {
          color: @text;
          background: none;

          &:hover {
            color: @blue;
          }
        }
      }
      .LoginFormBody__hr {
        border-top-color: @subtext0;
      }
      .LoginFormBody__subtitle {
        color: @text;
      }
    }
    // Forgot password and show password button
    .form-group button {
      background: none !important;
      border-color: none !important;
      color: @subtext0 !important;

      svg[data-icon^="eye"] {
        filter: @subtext0-filter;
      }
    }

    /* Settings pages */
    .SettingsPageInner {
      li a {
        color: @subtext0;
      }
      .Tabs__tab .active {
        border-bottom-color: @accent;
        color: @accent !important;
      }

      .TextBubble__colorTheme__whiteOnGreen {
        background-color: @accent;
        color: @base;
      }

      svg[data-icon="globe"] {
        filter: @text-filter;
      }
    }
    // Settings saved popup
    div[style*="background-color: rgba(33, 37, 41, 0.8); pointer-events: all; display: flex; align-items: center; margin: 20px auto 0px; width: 100%; box-shadow: rgba(0, 0, 0, 0.2) 0px 4px 24px; max-width: 600px; min-width: 284px; min-height: 64px; color: white; font-size: 16px; border-radius: 8px; opacity: 1; transition: opacity 0.2s ease-in-out;"] {
      background-color: fade(@accent, 90%) !important;
      color: @mantle !important;
      button svg {
        filter: @mantle-filter;
      }
    }

    /* Logged in homepage */
    // Rooms and guests selection
    .RoomsAndGuestsDropdown__dropdownMenu {
      svg {
        filter: @text-filter;
      }

      .IconLabelCounterRow__counter {
        border-color: @text;
      }
    }

    // Promos
    // NOTE: Not sure how consistent these selectors will be as they are for promos
    .HomePageInner__promo {
      .HeaderPromoWithButtons__container {
        background-color: @surface0;
      }
      img.HeaderPromoWithButtons__background {
        filter: @red-filter;
      }
      .HeaderPromoWithButtons__body {
        color: @subtext0;
      }

      .Button__icon svg {
        filter: @base-filter;
      }
    }
    .VisitGeosSummary {
      background-color: @surface1;
      &:hover {
        background-color: @surface0;
      }
      .VisitGeosBadgeIcon__gold {
        color: @peach;
      }
    }

    /* History page */
    .PlansList {
      .table thead th {
        color: @text;
      }
      &__inner td a, &__inner td:hover a {
        color: @blue;
      }
      &__inner td, &__inner td:hover {
        color: @subtext0;
      }
    }

    /* Notifications */
    .NotificationButtonLoaded {
      &__popover .popover {
        background-color: @surface0;
        border-color: @accent;
      }
      &__body {
        a {
          color: @text !important;
        }

        .Bubble {
          background-color: @text;
        }

        svg {
          filter: @base-filter;
        }
      }
    }

    /* Profile page */
    .ProfilePageUserDetails__container {
      border-color: @accent;
    }
    .NumberAndTitle {
      &__number, &__title {
        color: @subtext0;
      }
    }
    .Tabs__tab {
      .active {
        border-bottom-color: @accent;
        color: @accent !important;
      }
      .nav-link {
        color: @text;
      }
    }
    .TravelLeaderboard {
      &__container {
        background-color: @base;
        .LeaderboardList__index {
          color: @accent;
        }
        .VisitGeosBadgeIcon__gold {
          color: @yellow;
        }
      }

      &__heading {
        color: @accent;
      }
    }
    .UserFollowListItem__name {
      color: @text;
    }

    // TODO(zenoix): hotels search page, deals page, the actual planner, guides

    /* If you need to specify an overwrite specific to a flavor
     *  (e.g. only when the flavor is set to latte), you can use a `when` guard clause. */
    & when (@flavor = latte) {
      /* ... */
    }
    /* You can also negate the statement above by using
     *  a `when not` guard clause. */
    & when not(@flavor = latte) {
      /* ... */
    }
  }
}
