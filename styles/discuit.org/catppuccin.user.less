/* ==UserStyle==
@name discuit.org Catppuccin
@namespace github.com/catppuccin/userstyles/styles/discuit.org
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/discuit.org
@version 2000.01.01
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/discuit.org/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Adiscuit.org
@description Soothing pastel theme for discuit.org
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document regexp("^https?://discuit\\.(org|net)/.*") {
  html.theme-dark {
    #catppuccin(@darkFlavor);
  }
  html:not(.theme-dark) {
    #catppuccin(@lightFlavor);
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    --base-bg: #lib.rgbify(@base)[];
    --base-fg: #lib.rgbify(@text)[];
    --base-brand: #lib.rgbify(@accent)[];
    --base-red: #lib.rgbify(@red)[];
    --base-green: #lib.rgbify(@green)[];
    --base-gray: #lib.rgbify(@overlay1)[];

    --color-bg: @mantle;
    --color-fg: @text;
    --color-brand: @accent;

    --color-red: @red;
    --color-green: @green;
    --color-blue: @blue;

    --color-card: @surface0;
    --color-card-border: @surface0;
    --color-card-domain: @red;

    --color-input: fade(@overlay0, 15%);
    --color-input-active: fade(@overlay0, 10%);
    --color-link: @blue;

    --color-button: fade(@overlay1, 70%);
    --color-button-text: @text;
    --color-button-main: @accent;
    --color-button-main-hover: fade(@accent, 80%);
    --color-button-red: @red;

    --color-supporter: @pink;
    --color-skeleton: fade(@overlay0, 5%);

    --color-body: @base;
    --color-text: @text;
    --color-text-light: @subtext0;

    --color-input-border: fade(@overlay0, 10%);
    --color-input-border-hover: fade(@overlay0, 20%);
    --color-input-border-focus: @accent;
    --color-mini-footer-text: @subtext1;

    background-color: @base;
    color: @text;

    button:not([class]),
    button.comms-list-item-join,
    .button.social-link,
    .comm-main-top-join-button,
    .sidebar-right a.button:not(.button-main),
    .select-bar-dp-target,
    .dropdown-target button.is-icon,
    .list-head-actions .dropdown-target .button-icon,
    .lists-main-head .left .dropdown-target .button-with-icon {
      color: @text;
      background-color: @surface0 !important;
      &:hover {
        background-color: @surface1 !important;
      }
    }

    .button-main {
      color: @crust;
    }

    .button-red {
      color: @crust;
      &:hover {
        background-color: fade(@red, 80%);
      }
    }

    .about-community .about-comm-no-members {
      color: @subtext0;
    }

    .post-votes .post-votes-arrow {
      color: @overlay0;

      &:hover {
        color: @overlay1;
      }

      &.arrow-voted {
        color: var(--color-brand);
      }
    }

    .comment .comment-head {
      color: @subtext0;
    }

    .page-static .footer {
      background-color: @crust;
      color: @text;
      a,
      .footer-description {
        color: @subtext0;
      }
    }

    .home-welcome {
      background: var(--color-bg);
      color: var(--text);

      button {
        background: var(--color-button-main);

        &:hover {
          background: var(--color-button-main-hover);
        }
      }
    }

    .post-card-card .post-card-votes-bar .votes-bar .votes-bar-down {
      background: @red;
    }
  }
}
