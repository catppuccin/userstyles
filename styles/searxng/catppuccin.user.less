/* ==UserStyle==
@name SearXNG Catppuccin
@namespace github.com/catppuccin/userstyles/styles/searxng
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/searxng
@version 2025.09.06
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/searxng/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Asearxng
@description Soothing pastel theme for SearXNG
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]

@var checkbox additions "Additional Tweaks" 0
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

/* Domains picked from https://searx.space/. */
@-moz-document domain("search.bus-hit.me"), domain("search.inetol.net") {
  :root.theme-auto {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  :root.theme-dark {
    #catppuccin(@darkFlavor);
  }
  :root.theme-light {
    #catppuccin(@lightFlavor);
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    --color-base-font: @text;
    --color-base-background: @base;
    --color-base-background-mobile: @base;
    --color-url-font: @accent;
    --color-url-visited-font: @accent;
    --color-header-background: @mantle;
    --color-header-border: @mantle;
    --color-footer-background: @mantle;
    --color-footer-border: @mantle;
    --color-sidebar-border: @base;
    --color-sidebar-font: @text;
    --color-sidebar-background: @base;
    --color-backtotop-font: @subtext1;
    --color-backtotop-border: @surface0;
    --color-backtotop-background: @surface0;
    --color-btn-background: @accent;
    --color-btn-font: @base;
    --color-show-btn-background: @accent;
    --color-show-btn-font: @base;
    --color-search-border: @surface0;
    --color-search-shadow: 0 2px 8px @crust;
    --color-search-background: @surface0;
    --color-search-font: @text;
    --color-search-background-hover: @accent;
    --color-error: @red;
    --color-error-background: @surface0;
    --color-warning: @yellow;
    --color-warning-background: @surface0;
    --color-success: @green;
    --color-success-background: @surface0;
    --color-categories-item-selected-font: @text;
    --color-categories-item-border-selected: @accent;
    --color-autocomplete-font: @subtext1;
    --color-autocomplete-border: @surface0;
    --color-autocomplete-shadow: 0 2px 8px @crust;
    --color-autocomplete-background: @surface0;
    --color-autocomplete-background-hover: @surface1;
    --color-answer-font: @text;
    --color-answer-background: @mantle;
    --color-result-background: @mantle;
    --color-result-border: @base;
    --color-result-url-font: @subtext1;
    --color-result-vim-selected: @surface0;
    --color-result-vim-arrow: @accent;
    --color-result-description-highlight-font: @text;
    --color-result-link-font: @accent;
    --color-result-link-font-highlight: @accent;
    --color-result-link-visited-font: @accent;
    --color-result-publishdate-font: @surface2;
    --color-result-engines-font: @surface2;
    --color-result-search-url-border: @surface2;
    --color-result-search-url-font: @text;
    --color-result-detail-font: @text;
    --color-result-detail-label-font: @subtext0;
    --color-result-detail-background: @base;
    --color-result-detail-hr: @base;
    --color-result-detail-link: @accent;
    --color-result-detail-loader-border: rgba(255, 255, 255, 0.2);
    --color-result-detail-loader-borderleft: @crust;
    --color-result-image-span-font: @text;
    --color-result-image-span-font-selected: @base;
    --color-result-image-background: @mantle;
    --color-settings-tr-hover: @surface0;
    --color-settings-engine-description-font: @text;
    --color-settings-engine-group-background: @surface0;
    --color-toolkit-badge-font: @text;
    --color-toolkit-badge-background: @surface0;
    --color-toolkit-kbd-font: @text;
    --color-toolkit-kbd-background: @mantle;
    --color-toolkit-dialog-border: @mantle;
    --color-toolkit-dialog-background: @mantle;
    --color-toolkit-tabs-label-border: @base;
    --color-toolkit-tabs-section-border: @base;
    --color-toolkit-select-background: @surface0;
    --color-toolkit-select-border: @surface0;
    --color-toolkit-select-background-hover: @surface1;
    --color-toolkit-input-text-font: @text;
    --color-toolkit-checkbox-onoff-off-background: @surface0;
    --color-toolkit-checkbox-onoff-on-background: @surface0;
    --color-toolkit-checkbox-onoff-on-mark-background: @green;
    --color-toolkit-checkbox-onoff-on-mark-color: @mantle;
    --color-toolkit-checkbox-onoff-off-mark-background: @red;
    --color-toolkit-checkbox-onoff-off-mark-color: @mantle;
    --color-toolkit-checkbox-label-background: @base;
    --color-toolkit-checkbox-label-border: @mantle;
    --color-toolkit-checkbox-input-border: @accent;
    --color-toolkit-engine-tooltip-border: @surface0;
    --color-toolkit-engine-tooltip-background: @surface0;
    --color-toolkit-loader-border: rgba(255, 255, 255, 0.2);
    --color-toolkit-loader-borderleft: @crust;
    --color-doc-code: @rosewater;
    --color-doc-code-background: @mantle;

    #search_logo svg :not([fill="none"]) {
      fill: @accent;
    }
    #search_logo svg :not([stroke="none"]) {
      stroke: @accent;
    }

    & when (@additions = 1) {
      article.result {
        background-color: var(--color-result-background);
        border-radius: 0.75em;
        padding: 0.75em;
        margin: 0.5em;
      }
      article.category-images {
        padding-bottom: 4em;
      }
    }
  }
}
