/* ==UserStyle==
@name Old School RuneScape Wiki Catppuccin
@namespace github.com/catppuccin/userstyles/styles/osrs-wiki
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/osrs-wiki
@version 2025.10.13
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/osrs-wiki/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Aosrs-wiki
@description Soothing pastel theme for osrs-wiki
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("oldschool.runescape.wiki") {
  :root {
    body {
      @media (prefers-color-scheme: light) {
        #catppuccin(@lightFlavor);
      }

      @media (prefers-color-scheme: dark) {
        #catppuccin(@darkFlavor);
      }
    }
  }

  body {
    &.wgl-theme-light {
      #catppuccin(@lightFlavor);
    }

    &.wgl-theme-dark {
      #catppuccin(@darkFlavor);
    }
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    & {
      --body-background-image:url('/images/Old_School_RuneScape_Wiki_background_darkmode.png');
      --body-background-color:@base;
      --body-main:@mantle;
      --body-light:@base;
      --body-mid:@mantle;
      --body-dark:@mantle;
      --body-border:@surface0;
      --link-color:@accent;
      --background-link-color:@accent;
      --redlink-color:@red;
      --text-color:@text;
      --background-text-color:@text;
      --byline-color:@subtext0;
      --subtle-color:var(--byline-color);
      --search-box:var(--body-light);
      --admin-blue:@blue;
      --bearcat-green:@green;
      --awb-purple:@mauve;
      --sidebar:@base;
      --button-background:rgba(@accent, 0.5);
      --button-dark:@accent;
      --button-border:@accent;
      --button-light:@accent;
      --wikitable-header-bg:@mantle;
      --wikitable-border:@surface0;
      --wikitable-bg:@base;
      --wikitable-bg-lighter:@surface0;
      --wikitable-color:var(--text-color);
      --wikitable-alternating-bg:@surface0;
      --table-na-background:rgba(0,0,0,0.2);
      --table-na-color:@text;
      --table-yes-background:@green;
      --table-yes-color:@base;
      --table-no-background:@red;
      --table-no-color:@base;
      --table-maybe-background:@peach;
      --table-maybe-color:@base;
      --droptable-text-color:@base;
      --droptable-always-background:@blue;
      --droptable-common-background:@green;
      --droptable-uncommon-background:@yellow;
      --droptable-rare-background:@peach;
      --droptable-veryrare-background:@red;
      --droptable-random-background:@pink;
      --ooui-text:@text;
      --ooui-interface:@base;
      --ooui-interface-border:@surface0;
      --ooui-window-background:rgba(25,25,25,0.6);
      --ooui-input:rgba(@accent, 0.2);
      --ooui-input-border:@accent;
      --ooui-input-border--hover:@accent;
      --ooui-normal:rgba(@accent, 0.5);
      --ooui-normal--hover:rgba(@accent, 0.75);
      --ooui-normal-border:@surface0;
      --ooui-progressive:rgba(@accent, 0.5);
      --ooui-progressive--hover:rgba(@accent, 0.75);
      --ooui-accent:var(--link-color);
      --ooui-disabled:@surface2;
      --ooui-disabled-border:@surface2;
      --ooui-disabled-text:var(--ooui-text);
      --ooui-pending-background-image:repeating-linear-gradient(-45deg,var(--search-box),var(--search-box) 20px,var(--body-main) 20px,var(--body-main) 30px);
      --color-base:var(--text-color);
      --color-base-fixed:var(--color-base);
      --color-base--hover:var(--color-base);
      --color-emphasized:var(--color-base);
      --color-subtle:var(--byline-color);
      --color-placeholder:var(--subtle-color);
      --color-progressive:var(--ooui-accent);
      --color-progressive--hover:var(--color-progressive);
      --color-progressive--active:var(--color-progressive);
      --color-progressive--focus:var(--color-progressive);
      --color-destructive:var(--redlink-color);
      --color-destructive--hover:var(--color-destructive);
      --color-destructive--active:var(--color-destructive);
      --color-destructive--focus:var(--ooui-accent);
      --box-shadow-color-progressive--focus:var(--ooui-accent);
      --color-visited:var(--ooui-accent);
      --color-visited--hover:var(--color-visited);
      --color-visited--active:var(--color-visited);
      --color-destructive--visited:var(--color-destructive);
      --color-destructive--visited--hover:var(--color-destructive);
      --color-destructive--visited--active:var(--color-destructive);
      --background-color-base:var(--body-main);
      --background-color-neutral:var(--body-light);
      --background-color-neutral-subtle:var(--body-mid);
      --background-color-interactive:var(--ooui-normal);
      --background-color-interactive--hover:var(--ooui-normal--hover);
      --background-color-interactive--active:var(--ooui-normal--hover);
      --background-color-interactive-subtle:var(--ooui-normal);
      --background-color-interactive-subtle--hover:var(--ooui-normal--hover);
      --background-color-interactive-subtle--active:var(--ooui-normal--hover);
      --background-color-progressive:var(--ooui-progressive);
      --background-color-progressive--hover:var(--ooui-progressive--hover);
      --background-color-progressive--active:var(--ooui-progressive--hover);
      --background-color-progressive--focus:var(--ooui-progressive);
      --background-color-backdrop-light:var(--ooui-window-background);
      --background-color-backdrop-dark:var(--ooui-window-background);
      --border-color-base:var(--ooui-normal-border);
      --border-color-emphasized:var(--body-border);
      --border-color-subtle:var(--ooui-normal--hover);
      --border-color-muted:var(--border-color-base);
      --border-color-progressive--focus:var(--ooui-accent);
      --outline-color-progressive--focus:var(--ooui-accent);
      --tile-border-color:var(--body-border);
      --tile-background-color:var(--body-light);
      --tile-link-button-color:var(--body-mid);
      --tile-link-button-highlight-color:@crust;
      --tile-dark-color:@text;
      --tile-dark-bg:@mantle;
      --tile-dark-link-color:@text;
      --tile-dark-byline-color:@overlay0;
      --tile-dark-header-color:@text;
      --documentation-background:var(--body-light);
      --documentation-border:var(--sidebar);
      --documentation-link-color:var(--link-color);
      --documentation-headers-color:var(--text-color);
      --documentation-header-background:var(--body-dark);
      --documentation-subheader-background:@mantle;
      --base-text-color:var(--text-color);
      --base-heading-color:var(--text-color);
      --base-heading-border:var(--sidebar);
      --mainpage-recent-updates-description-color:var(--text-color);
      --thumb-bg:var(--body-mid);
      --thumb-caption-bg:var(--body-light);
      --diff-context-border-color:var(--body-mid);
      --diff-context-background:var(--body-mid);
      --diff-addedline-background:@blue;
      --diff-addedline-border-color:@blue;
      --diff-addedline-color:@text;
      --diff-deletedline-background:@green;
      --diff-deletedline-border-color:@green;
      --diff-deletedline-color:@text;
      --diff-inline-deletedline:@red;
      --errorbox-bg:@red;
      --errorbox-border:@red;
      --warningbox-bg:var(--errorbox-bg);
      --warningbox-border:var(--errorbox-border);
      --successbox-bg:@green
      --successbox-border:@green;
      --messagebox-obsolete-background:@overlay0;
      --messagebox-obsolete-border:@overlay1;
      --messagebox-obsolete-color:@text;
      --messagebox-obsolete-link-color:@overlay2;
      --messagebox-info-background:var(--messagebox-obsolete-background);
      --messagebox-info-border:var(--messagebox-obsolete-border);
      --messagebox-info-color:var(--messagebox-obsolete-color);
      --messagebox-info-link-color:var(--messagebox-obsolete-link-color);
      --messagebox-action-background:@overlay0;
      --messagebox-action-border:@overlay1;
      --messagebox-action-color:var(--text-color);
      --messagebox-action-link-color:@subtext0;
      --messagebox-warn-background:@red;
      --messagebox-warn-border:@red;
      --messagebox-warn-color:@text;
      --messagebox-warn-link-color:@red;
      --messagebox-safe-background:@green;
      --messagebox-safe-border:@green;
      --messagebox-safe-color:@subtext0;
      --messagebox-safe-link-color:@overlay0;
      --messagebox-disambig-background:var(--messagebox-obsolete-background);
      --messagebox-disambig-border:var(--messagebox-obsolete-border);
      --messagebox-disambig-color:var(--messagebox-obsolete-color);
      --messagebox-disambig-link-color:var(--messagebox-obsolete-link-color);
      --mw-code-background-color:@surface0;
      --tabber-tab-bg:var(--body-light);
      --tabber-tab-border-color:var(--body-border);
      --tabber-active-tab-bg:var(--body-light);
      --tabber-active-tab-color:var(--text-color);
      --tabber-active-tab-hover-bg:var(--body-light);
      --tabber-active-tab-hover-border-color:var(--body-border);
      --tabber-active-tab-hover-color:var(--text-color);
      --tabber-active-tab-border-hider-color:var(--body-light);
      --tabber-inactive-tab-bg:var(--body-mid);
      --tabber-inactive-tab-border-color:var(--body-border);
      --tabber-inactive-tab-color:var(--text-color);
      --tabber-inactive-tab-hover-bg:var(--body-light);
      --tabber-inactive-tab-hover-border-color:var(--body-border);
      --scribuntoconsole-input:@blue;
      --scibuntoconsole-print:@yellow;
      --scribuntoconsole-error:@red;
      --scribuntoconsole-message:@green;
      --scribuntoconsole-tabcomplete:@mauve;
      --scribuntoconsole-clear:@red;
      --blockquote-color:var(--text-color);
      --coins-color:@green;
      --coins-pos-color:@blue;
      --coins-neg-color:@red;
      --questdetails-header-background:var(--body-dark);
      --questdetails-header-background-alt:var(--body-dark);
      --fact-text-color:@blue;
      --production-selected-background:@green;
      --production-selected-color:@base;
      --keypress-background:var(--body-light);
      --keypress-border:var(--body-border);
      --keypress-color:var(--text-color);
      --ajaxpoll-background:var(--body-light);
      --ajaxpoll-text-color:var(--base-text-color);
      --ajaxpoll-answerbar-background:var(--body-mid);
      --ajaxpoll-answerbar-border:var(--body-border);
      --rc-negative-color:@red;
      --rc-positive-color:@green;
      --filter-black-to-link:invert(63%) sepia(67%) saturate(242%) hue-rotate(182deg) brightness(93%) contrast(94%);
      --transcript-border-color:@base;
      --transcript-border-hover-color:@base;
      --transcript-strikethrough-color:@text;
      --navbox-background:var(--body-light);
      --navbox-border:var(--body-main);
      --navbox-title-background:var(--body-dark);
      --navbox-footer-background:var(--navbox-title-background);
      --navbox-group-title-background:var(--navbox-title-background);
      --infobox-bg:var(--body-light);
      --infobox-border:var(--body-border);
      --infobox-header:var(--body-dark);
      --infobox-subheader:var(--body-mid);
      --infobox-text-color:var(--text-color);
      --infobox-room-poh-color:@base;
      --sourceeditor-input-background:var(--body-mid);
      --sourceeditor-background:var(--body-light);
      --sourceeditor-background-secondary:var(--body-mid);
      --sourceeditor-border:var(--body-main);
      --codemirror-gutter-background:var(--body-light);
      --toc-bg:@base;
      --toc-title-bg:@mantle;
      --toc-border-color:@surface0;
      --toc-list-border-color:@surface2;
      --vector-tab-background:@mantle;
      --vector-tab-background--hover:@crust;
      --vector-tab-link-color:@text;
      --lighttable-bg-hover:rgba(@accent, 0.5);
      --lighttable-bg-active:rgba(@accent, 0.5);
      --lighttable-link-color:@text;
      --personal-links-bg:@base;
      --tbz-unlocked-background:repeating-linear-gradient(-45deg,@green 0 20px,@green 20px 30px);
      --tbz-unlocked-border-color:@green;
      --tbz-locked-background-color:@red;
      --tbz-locked-border-color:@red;
      --tbz-partial-unlock-background:@green;
      --tbz-partial-unlock-border-color:@green;
    }

    body {
      background: var(--body-background-color);
    }

    #p-logo {
      a {
        filter: hue-rotate(300deg);
      }
    }

    #mw-head .vector-menu-dropdown .vector-menu-heading,
    .vector-menu-tabs ul li:not(.selected) {
      box-shadow: none;
    }

    .vector-menu-dropdown .vector-menu-content {
      background-color: @crust;
    }

    .mp-popular-page-light {
      background-color: rgba(@accent, 0.65);
      a { color: @text; }
    }

    .mw-body {
      box-shadow: none;
    }

    .mw-collapsible-toggle {
      color: @text;
    }

    .table-bg-red,
    .table-bg-orange,
    .table-bg-blue,
    .table-bg-green,
    .table-bg-yellow {
      a { color: @base; }
    }

    .mainpage-editing,
    .mainpage-twitter,
    .mainpage-discord {
      .tile-top {
        background: @base;
      }
      .tile-bottom {
        background: @crust;
      }

      h2, p, a {
        color: @text;
      }
    }

    .mw-mmv-overlay {
      background-color: @crust;
    }

    .cdx-button {
      &.mw-mmv-button {
        background-color: @base;
        &:hover { background-color: @surface0; }
      }
    }

    .cdx-message {
      color: @base;
      a { color: @crust; text-decoration: underline; }
    }

    .qc-input {
      .oo-ui-buttonElement-framed.oo-ui-widget-enabled.oo-ui-buttonElement-active {
        & > .oo-ui-buttonElement-button {
          background-color: @accent;
          color: @base;
          border-color: @accent;
          box-shadow: 0px 0px 1px 1px rgba(@accent, 0.5);
        }
      }
    }

    .wikiEditor-ui-toolbar .tabs span.tab a:before,
    .oo-ui-popupToolGroup-handle {
      filter: @accent-filter !important;
    }

    .vector-search-box .cdx-search-input__end-button.cdx-button {
      filter: @accent-filter;
    }

  }
}
