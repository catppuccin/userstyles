/* ==UserStyle==
@name Gimkit Catppuccin
@namespace github.com/catppuccin/userstyles/styles/gimkit
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/gimkit
@version 2000.01.01
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/gimkit/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Agimkit
@description Soothing pastel theme for Gimkit
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("gimkit.com") {
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }
    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    a {
      color: @@accentColor !important;
    }

    input {
      background-color: @mantle !important;
      border-color: @surface2 !important;
      outline-color: @surface2 !important;
      color: @text !important;
    }

    .ant-input-number {
      border-color: @surface2;
    }

    #mainContainer {
      background-color: @mantle;

      > .flex-column > .flex-column div:has(.ant-card),
      div:has(> #reports-container) {
        box-shadow: @crust 0 10px 30px;
        background-color: @base;
      }

      button {
        &:has(.anticon-play-circle) {
          background-color: @green !important;
          border-color: @green !important;
        }

        &:has(.anticon-paper-clip) {
          background-color: @blue !important;
          border-color: @blue !important;
        }

        * {
          color: @base;
        }
      }
    }

    * {
      color: @text;
    }

    #content > .maxAll > .maxWidth > .maxWidth {
      background-color: @red !important;

      * {
        color: @base !important;
      }

      a {
        border-color: @base;
        background-color: transparent;
      }
    }

    button.ant-btn-color-primary {
      background-color: @mauve !important;

      * {
        color: @base;
      }
    }

    .ant-card {
      background-color: @mantle;
      border-color: @surface0;
    }

    header a[href="/me"] img {
      filter: @text-filter;
    }

    .ant-btn-dashed {
      background-color: @mantle;
      border-color: @surface2;

      &:hover {
        background-color: @base !important;
        border-color: @mauve !important;
      }
    }

    div:has(> header) > div, header {
      background-color: @base;
      box-shadow: @surface1 0 -1px inset;
    }

    // Couldn't figure out a way to avoid generated class name here
    .ant-space-item .gYojnk {
      background-color: @mauve;

      &, * {
        color: @base;
      }
    }

    .ant-alert-info {
      background-color: rgba(#lib.rgbify(@blue)[], 0.5);
      border-color: @blue;
    }

    .ant-btn-circle {
      background-color: @crust;
      border-color: @surface2;

      svg {
        fill: @text;
      }

      &:hover {
        background-color: @mantle !important;
        border-color: @mauve !important;
      }
    }

    .ant-dropdown-menu-root {
      background-color: @base !important;
      box-shadow: none;

      > div {
        background-color: @mantle;
      }
    }

    .ant-dropdown-menu-item:hover {
      background-color: @mantle !important;
    }

    .ant-table-cell {
      background-color: @base;
      border-color: @surface2 !important;

      &.ant-table-cell-row-hover {
        background-color: @mantle !important;
      }
    }

    .ant-table-thead .ant-table-cell {
      background-color: @mantle !important;
      color: @text !important;
    }

    .ant-table-container {
      border-color: @surface2 !important;
    }

    .ant-progress-circle-trail {
      stroke: @surface1 !important;
    }

    // Again, I don't see any way to avoid generated classes here
    .css-10npeqp {
      .ant-progress-text {
        color: @red !important;
      }

      .ant-progress-circle-path {
        stroke: @red !important;
      }
    }

    .css-bcnfu6 {
      * .ant-progress-text {
        color: @yellow !important;
      }

      .ant-progress-circle-path {
        stroke: @yellow !important;
      }
    }

    .css-1us8kgf {
      .ant-progress-text {
        color: @green !important;
      }

      .ant-progress-circle-path {
        stroke: @green !important;
      }
    }

    div:has(.ant-result-404) {
      background-color: @mantle;

      .ant-result-title, .ant-result-subtitle {
        color: @text !important;
      }

      svg g[transform="translate(0 .012)"] > path {
        fill: @base;
      }
    }

    #content > div > .maxWidth > .scroll-y {
      background-color: @base;
      border-color: @surface2;

      &:has(.ant-divider) div[style="padding: 15px;"] > div {
        background-color: @mantle;
      }
    }

    .ant-modal-content {
      background-color: @base !important;
    }

    .ant-divider {
      border-color: @surface1;
    }

    #mainContainer
      div[style="position: relative;"]
      .maxAll.flex-center
      > .medium-shadow {
      > .medium-shadow {
        background-color: @mantle;

        .flex-center:not(:has(div)) {
          border-color: @@accentColor;
          color: @base;

          &:not(:hover) {
            background-color: @@accentColor;
          }

          &:hover {
            color: @@accentColor;
          }
        }

        .ant-space-item > div {
          background-color: @surface0;

          img {
            filter: @text-filter;
          }
        }
      }

      > .fadeIn:not(.medium-shadow) {
        background-color: @base;

        div[style*="border-color: rgb(253, 216, 53);"] {
          border-color: @@accentColor !important;
        }

        div[style*="border-color: rgb(255, 255, 255);"] {
          border-color: @text !important;
        }
      }

      > .flex-center {
        background-color: @base;

        div:has(div) {
          background-color: @mantle;

          .flex-column {
            background-color: rgba(#lib.rgbify(@yellow)[], 0.15);
            border-color: @yellow;
          }

          > .maxWidth > .vc {
            background-color: @base;

            > .vc * {
              background-color: @base;
            }
          }
        }
      }
    }

    .ant-select-selector {
      background-color: @mantle !important;
      border-color: @surface2 !important;

      * {
        color: @text !important;
      }
    }

    .ant-select-dropdown {
      background-color: @base;

      .ant-select-item-option-active {
        background-color: @mantle !important;
      }
    }

    .ant-switch-handle::before {
      background-color: @text;
    }

    .ant-switch-checked {
      background-color: @@accentColor !important;

      .ant-switch-handle::before {
        background-color: @base;
      }
    }

    #content > .vc.flex-column {
      background-color: @mantle;

      .flex-column > div:nth-child(2) {
        box-shadow: @crust 0 10px 30px;
        background-color: @base;
      }
    }

    #content > .flex-column.flex-center {
      background-color: @mantle !important;
    }

    .ant-btn-circle.ant-btn-primary:not(:hover) svg {
      fill: @base !important;
    }
  }
}
