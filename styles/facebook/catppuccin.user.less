/* ==UserStyle==
@name Facebook Catppuccin
@namespace github.com/catppuccin/userstyles/styles/facebook
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/facebook
@version 2025.09.06
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/facebook/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Afacebook
@description Soothing pastel theme for facebook
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */
@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("facebook.com") {
  :root {
    @media (prefers-color-scheme: light) {
      #catppuccin(@lightFlavor);
    }

    @media (prefers-color-scheme: dark) {
      #catppuccin(@darkFlavor);
    }
  }

  .__fb-dark-mode:root,
  .__fb-dark-mode {
    #catppuccin(@darkFlavor);
  }

  .__fb-light-mode:root,
  .__fb-light-mode {
    #catppuccin(@lightFlavor);
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    html,
    body,
    #facebook {
      background: var(--surface-background);
      color: var(--primary-text);
    }

    /* Background */
    ._95kb,
    ._95ka {
      background-color: var(--surface-background);
    }

    /* Logo */
    .fb_logo {
      filter: @accent-filter;
    }

    /* Title */
    ._ihd._6s {
      color: var(--primary-text);
    }

    /* Subtext */
    ._8e4l.mbl._6o._6s._mf,
    ._8eso,
    ._8esf ._58mk,
    ._8icy ._6ltj a {
      color: var(--secondary-text);
    }

    /* Account Card */
    ._1gax {
      background-color: var(--card-background-flat);
    }

    ._1gbd {
      box-shadow: none;
    }

    ._95l5 ._1gaz {
      background-color: @surface1;
      color: var(--primary-text);
    }

    /* icon */
    .sp_vxiiSmFDFzJ {
      filter: @accent-filter;
    }

    /* Login Form */
    ._6luv {
      background-color: var(--card-background-flat);
    }

    /* Inputs */
    ._55r1 {
      background-color: var(--input-background);
      border: 1px solid var(--input-border-color);
    }

    /* Buttons */
    ._8icy ._6lth {
      background-color: @blue;
      color: var(--primary-text);
    }

    ._8icy ._6lti {
      background-color: var(--positive);
      color: var(--primary-text);
    }

    /* Input text */
    ._8icy ._6lux ._6luy {
      color: var(--primary-text);
    }

    /* Dividers */
    ._8icy ._8icz {
      border-bottom: 1px solid var(--divider);
    }

    /* Footer */
    #pageFooter a,
    ._4ki._6-h > li:first-child {
      color: var(--secondary-text);
    }

    #pageFooter .copyright {
      color: var(--secondary-text);
    }

    #contentCurve {
      border-bottom: 1px solid var(--divider);
    }

    /* Surfaces */
    --surface-background: @crust;
    --card-background: @base;
    --card-background-flat: @surface0;
    --background-deemphasized: fade(@base, 10%);
    --popover-background: @base;
    --popover-card-background: var(--card-background);
    --comment-background: @surface0;
    --comment-footer-background: @surface0;
    --wash: @surface0;
    --web-wash: @crust;
    --nav-bar-background: @base;
    --messenger-card-background: @base;
    --messenger-reply-background: @surface0;

    /* Text & Icons */
    --primary-text: @text;
    --secondary-text: @subtext0;
    --section-header-text: @subtext1;
    --placeholder-text: @overlay1;
    --primary-icon: @text;
    --secondary-icon: @overlay1;
    --disabled-icon: @overlay2;

    /* Brand palette anchors (Catppuccin map) */
    --base-blue: @accent;
    --base-cherry: @red;
    --base-grape: @mauve;
    --base-lemon: @yellow;
    --base-lime: @green;
    --base-pink: @pink;
    --base-teal: @teal;

    /* Dividers / Inputs */
    --divider: @surface0;
    --divider-on-color: @surface0;
    --comment-threading-lines: @surface0;
    --input-border-color: @surface0;
    --input-border-color-hover: @overlay0;
    --input-background: @mantle;
    --input-background-hover: @mantle;
    --input-background-disabled: @surface0;
    --input-label-color-highlighted: @accent;
    --input-label-color-inside: @subtext0;
    --input-label-color-disabled: @overlay0;

    /* Accent / Links / Focus (brand-forward) */
    --accent: @accent;
    --blue-link: @accent;
    --focus-ring-blue: @accent;
    --primary-web-focus-indicator: @accent;
    --highlight-bg: @surface1;
    --text-highlight: @surface2;
    --progress-ring-blue-background: @surface1;
    --progress-ring-blue-foreground: @accent;
    --new-notification-background: @accent;

    /* Buttons */
    --primary-button-background: @accent;
    --primary-button-text: @crust;
    --primary-button-icon: @crust;
    --primary-button-background-on-color: @text;
    --primary-button-background-on-media: @text;
    --primary-button-pressed: mix(@accent, @base, 40%);
    --primary-deemphasized-button-pressed: fade(@accent, 20%);
    --primary-deemphasized-button-pressed-overlay: fade(@accent, 15%);
    --primary-deemphasized-button-background: @surface0;
    --primary-deemphasized-button-text: @accent;
    --primary-deemphasized-button-icon: @accent;
    --secondary-button-background: @surface0;
    --secondary-button-background-floating: @surface1;
    --secondary-button-background-on-dark: @surface1;
    --secondary-button-text: @text;
    --buttonSendBackgroundColor: @accent;

    /* Profile cover button */
    [aria-label="Edit Cover Photo"],
    [aria-label="Edit Foto Sampul"] {
      > [role="none"] {
        background: @surface0;
        --filter-primary-icon: @text-filter;
        span {
          color: @text;
        }
      }
    }

    /* States / Badges */
    --positive: @green;
    --positive-background: @surface1;
    --positive-deemphasized: @green;
    --negative: @red;
    --warning: @yellow;
    --notification-badge: @red;

    /* Reactions */
    --reaction-like: @accent;
    [style="--x-color: rgba(8,102,255,2.55);"] {
      --x-color: @accent;
    }

    --reaction-love: @red;
    --reaction-anger: @red;
    --reaction-haha: @yellow;
    --reaction-wow: @peach;
    --reaction-sorry: @subtext1;
    --reaction-support: @teal;

    /* Stories / On-media */
    --story-unseen: @accent;
    --story-seen: @overlay1;

    /* neutral */
    --media-inner-border: fade(@surface0, 60%);
    --media-outer-border: @surface0;
    --overlay-on-media: fade(@crust, 60%);
    --primary-text-on-media: @text;
    --secondary-text-on-media: @surface2;
    --placeholder-text-on-media: @surface1;
    --link-on-media: @base;

    /* Scrollbar */
    --scroll-thumb: @surface1;

    /* Branding */
    --fb-logo: @accent;
    --fb-wordmark: @accent;

    /* Misc */
    --rating-star-active: @peach;
    --event-date: @mauve;
    --placeholder-icon: @overlay1;
    --placeholder-image: @overlay1;

    /* HSLa Components */
    --accent-h: hue(@accent);
    --accent-s: saturation(@accent);
    --accent-l: lightness(@accent);
    --negative-h: hue(@red);
    --negative-s: saturation(@red);
    --negative-l: lightness(@red);
    --warning-h: hue(@yellow);
    --warning-s: saturation(@yellow);
    --warning-l: lightness(@yellow);

    /* Toasts / Banners / Tooltips */
    --toast-background: @mantle;
    --toast-text: @text;
    --toast-text-link: @accent;
    --tooltip-background: fade(@mantle, 80%);
    --hero-banner-background: @mantle;
    --attachment-footer-background: @surface0;

    /* Borders */
    --border-focused: @overlay1;
    --popover-border-color: transparent;

    /* Progress (neutral & on-media) */
    --progress-ring-neutral-background: @surface1;
    --progress-ring-neutral-foreground: @text;
    --progress-ring-on-media-background: @surface1;
    --progress-ring-on-media-foreground: #fff;

    /* Messenger extras */
    --mwp-header-button-color: @accent;
    --mwp-message-row-background: @mantle;

    /* FDS ramp & grays */
    --fds-blue-60: @accent;
    --fds-blue-40: @surface2;
    --fds-blue-30: @surface1;
    --fds-blue-70: @overlay1;
    --fds-blue-80: @overlay2;
    --fds-blue-05: @base;

    --fds-gray-00: @base;
    --fds-gray-05: @surface0;
    --fds-gray-10: @surface1;
    --fds-gray-20: @surface1;
    --fds-gray-25: @surface1;
    --fds-gray-30: @surface2;
    --fds-gray-45: @overlay1;
    --fds-gray-70: @overlay2;
    --fds-gray-80: @subtext0;
    --fds-gray-90: @subtext1;
    --fds-gray-100: @text;

    /* Primary tokens / comments */
    --fds-primary-text: @text;
    --fds-primary-icon: @text;
    --fds-button-text: @text;
    --fds-comment-background: @surface0;

    /* Accents & status */
    --fds-green-55: @green;
    --fds-green-65: @green;
    --fds-red-55: @red;
    --fds-yellow-20: @yellow;
    --fds-highlight: @accent;

    --fds-highlight-cell-background: @surface1;

    /* Placeholders / disabled */
    --disabled-text: @overlay2;
    --disabled-button-text: @overlay2;
    --disabled-button-background: @surface0;

    /* Chat composer & messages */
    --chat-composer-button-color: fade(@accent, 60%);
    --chat-composer-caret-color: @accent;
    --chat-composer-input-background-color: var(--comment-background);
    --chat-edit-message-overlay-color: var(--surface-background);
    --chat-outgoing-message-background-gradient: linear-gradient( @mauve calc(100vh - 455px + 48px),
    @accent calc(100% - 56px),
    @accent);
    --chat-outgoing-message-bubble-background-color: transparent;

    /* MW platform extras */
    --mwp-header-button-color: fade(@mauve, 60%);
    --mwp-message-list-actions-gap: 0px;
    --mwp-message-list-actions-width: calc(84px + 2 * 0px);
    --mwp-message-row-background: var(--messenger-card-background);
    --mwp-primary-theme-color: @accent;

    /* Reaction pills */
    --reaction-pill-multireact-selected-color: mix(@mauve, @base, 90%);


    /* Data viz (soft) */
    --dataviz-blue-primary: @accent;
    --dataviz-blue-secondary: @overlay1;
    --dataviz-orange: @peach;
    --dataviz-primary-1: @teal;

    /* Filters (icon color mapping) */
    --filter-accent: @accent-filter;
    --filter-primary-accent: @accent-filter;
    --filter-primary-icon: @text-filter;
    --filter-always-black: @crust-filter;
    --filter-blue-link-icon: @accent-filter;
    --filter-primary-deemphasized-button-icon: @accent-filter;
    --filter-positive: @green-filter;
    --filter-negative: @red-filter;
    --filter-warning-icon: @yellow-filter;
    --filter-disabled-icon: @overlay2-filter;
    --filter-secondary-icon: @overlay1-filter;
    --filter-placeholder-icon: @overlay1-filter;
    --filter-secondary-button-icon-on-media: @crust-filter;

    /* Optional */
    --link-color-visited: @mauve;

    /* “Always” ramps */
    --always-white: #fff;
    --always-black: #000;
    --always-dark-overlay: fade(#000, 40%);
    --always-light-overlay: fade(#fff, 40%);
    --always-gray-40: @overlay1;
    --always-gray-75: @overlay2;
    --always-gray-95: @surface1;

    /* Black/white ramps */
    --fds-black: @crust;
    --fds-black-alpha-05: fade(@crust, 5%);
    --fds-black-alpha-10: fade(@crust, 10%);
    --fds-black-alpha-15: fade(@crust, 15%);
    --fds-black-alpha-20: fade(@crust, 20%);
    --fds-black-alpha-30: fade(@crust, 30%);
    --fds-black-alpha-40: fade(@crust, 40%);
    --fds-black-alpha-50: fade(@crust, 50%);
    --fds-black-alpha-60: fade(@crust, 60%);
    --fds-black-alpha-80: fade(@crust, 80%);

    --fds-white: #fff;
    --fds-white-alpha-05: fade(@text, 5%);
    --fds-white-alpha-10: fade(@text, 10%);
    --fds-white-alpha-20: fade(@text, 20%);
    --fds-white-alpha-30: fade(@text, 30%);
    --fds-white-alpha-40: fade(@text, 40%);
    --fds-white-alpha-50: fade(@text, 50%);
    --fds-white-alpha-60: fade(@text, 60%);
    --fds-white-alpha-80: fade(@text, 80%);

    /* Overlays / pressed */
    --hover-overlay: fade(@text, 5%);
    --non-media-pressed: fade(@text, 15%);
    --non-media-pressed-on-dark: fade(@text, 30%);
    --media-hover: fade(@overlay1, 15%);
    --media-pressed: fade(@overlay1, 35%);
    --press-overlay: fade(@crust, 10%);

    /* Hosted view */
    --hosted-view-selected-state: fade(@accent, 10%);

    /* Brand ramps */
    --blue-primary: @accent;
    --blue-secondary: @overlay2;
    --blue-tertiary: mix(@accent, @base, 12%);

    --teal-primary: @teal;
    --teal-secondary: @overlay2;
    --teal-tertiary: mix(@teal, @base, 12%);

    --green-primary: @green;
    --green-secondary: @overlay2;
    --green-tertiary: mix(@green, @base, 12%);

    --orange-primary: @peach;
    --orange-secondary: @overlay2;
    --orange-tertiary: mix(@peach, @base, 12%);

    --purple-primary: @mauve;
    --purple-secondary: @overlay2;
    --purple-tertiary: mix(@mauve, @base, 12%);

    --fuschia-primary: @pink;
    --fuschia-secondary: @overlay2;
    --fuschia-tertiary: mix(@pink, @base, 12%);

    --magenta-primary: @maroon;
    --magenta-secondary: @overlay2;
    --magenta-tertiary: mix(@maroon, @base, 12%);

    --cyan-primary: @sky;
    --cyan-secondary: @overlay2;
    --cyan-tertiary: mix(@sky, @base, 12%);

    --chartreuse-primary: @sapphire;
    --chartreuse-secondary: @overlay2;
    --chartreuse-tertiary: mix(@sapphire, @base, 12%);

    --yellow-primary: @yellow;
    --yellow-secondary: @overlay2;
    --yellow-tertiary: mix(@yellow, @base, 12%);

    --red-primary: @red;
    --red-secondary: @overlay2;
    --red-tertiary: mix(@red, @base, 12%);

    /* Notifications & badges */
    --negative-background: hsla(var(--negative-h), var(--negative-s), var(--negative-l), 20%);
    --text-badge-info-background: @accent;

    --text-badge-success-background: @green;
    --text-badge-attention-background: @yellow;
    --text-badge-critical-background: @red;

    /* Inputs edge states */
    --input-background-warn-hover: hsla(var(--warning-h), var(--warning-s), var(--warning-l), 5%);
    --input-background-error-hover: hsla(var(--negative-h), var(--negative-s), var(--negative-l), 5%);
    --input-background-active: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 5%);
    --input-background-warn-active: hsla(var(--warning-h), var(--warning-s), var(--warning-l), 5%);
    --input-background-error-active: hsla(var(--negative-h), var(--negative-s), var(--negative-l), 5%);

    /* Tabs underline */
    --tab-underline-color: transparent;

    /* Radio states */
    --radio-border-color: @text;
    --radio-border-color-disabled: @surface1;
    --radio-border-color-selected: @accent;
    --radio-checked-icon-color: @accent;
    --radio-checked-icon-color-disabled: @surface1;

    /* Progress disabled */
    --progress-ring-disabled-background: fade(@surface2, 20%);
    --progress-ring-disabled-foreground: @surface2;

    /* Lists / Icons */
    --list-cell-chevron: @overlay1;

    /* Nav bar gradients */
    --nav-bar-background-gradient: linear-gradient( to top,
    @base,
    fade(@base, 90%),
    fade(@base, 70%),
    fade(@base, 40%),
    fade(@base, 0%));
    --nav-bar-background-gradient-wash: linear-gradient( to top,
    @surface0,
    fade(@surface0, 90%),
    fade(@surface0, 70%),
    fade(@surface0, 40%),
    fade(@surface0, 0%));

    /* Switches / toggles */
    --switch-active: @accent;
    --switch-inactive: @surface1;
    --switch-unchecked-background-color: @overlay1;
    --toggle-active-background: @accent;
    --toggle-active-icon: @crust;
    --toggle-active-text: @crust;
    --toggle-button-active-background: mix(@accent, @base, 12%);

    /* Inputs (outside label) */
    --text-input-outside-label: @text;

    /* Inverse text helper */
    --inverse-text: #fff;

    /* Shadows */
    --shadow-inset: fade(@text, 5%);
    --shadow-persistent: 0 0 12px fade(@crust, 60%);
    --shadow-primary: 0 0 12px fade(@crust, 10%);

    /* === Additional compat aliases (from original) ======================= */
    --border-ui-emphasis: @surface0;
    --last-active-state-background: mix(@green, @base, 12%);
    --last-active-state-text: @green;
    --media-hovered: var(--media-hover);
    --primary-button-icon-on-color: @crust;
    --primary-button-text-on-media: @crust;
    --secondary-background-on-color: fade(@base, 15%);
    --secondary-background-on-media: fade(@crust, 60%);
    --secondary-icon-on-media: @base;
    --secondary-pressed: var(--non-media-pressed);
    --secondary-stroke: transparent;
    --primary-icon-on-media: var(--primary-text-on-media);
    --secondary-icon-on-media: fade(@base, 80%);
    --rating-star-active-on-color: @base;
    --rating-star-active-on-media: @base;
    --text-input-active-text: @accent;
    --mwp-header-background-color: var(--messenger-card-background);
    --badge-background-color-blue: var(--accent);
  }
}
