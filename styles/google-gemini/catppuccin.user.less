/* ==UserStyle==
@name Google Gemini Catppuccin
@namespace github.com/catppuccin/userstyles/styles/google-gemini
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/google-gemini
@version 2026.01.04
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/google-gemini/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Agoogle-gemini
@description Soothing pastel theme for Google Gemini
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

@-moz-document domain("gemini.google.com") {
  @import url("https://unpkg.com/@catppuccin/highlightjs@1.0.0/css/catppuccin-variables.important.css");

  :root .dark-theme {
    #catppuccin(@darkFlavor);
  }

  :root .light-theme {
    #catppuccin(@lightFlavor);
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();
    #lib.css-variables();

    --bard-color-neutral-90: @mantle;
    --bard-color-on-selected-conversation-metadata-v2: @text;
    --bard-color-surface-container: @mantle;
    --bard-color-on-surface-opacity-38: @surface2 !important;
    --bard-color-surface-container-highest: lighten(@base, 5%);
    --bard-color-response-container-flipped-background: @surface0;
    --bard-color-inverse-on-surface: darken(@mantle, 1%);
    --bard-color-sidenav-mobile-controls: @text;
    --bard-color-main-container-background: @base;
    --bard-color-main-container-background-rgb: #lib.rgbify(@base)[];
    --bard-color-window-container-background: @base;
    --bard-color-response-container-background: @base;
    --bard-color-response-container-background-rgb: #lib.rgbify(@base)[];
    --bard-color-onhover-conversation-metadata-button-v2: @surface1;
    --bard-color-selected-conversation-metadata-button-v2: fade(
      @accent,
      40%
    );
    --bard-color-new-conversation-button: @surface0;
    --bard-color-on-new-conversation-button: @text;
    --bard-color-onhover-conversation-metadata-v2: @surface0;
    --bard-color-sidenav-upgrade-button: @surface0;
    --bard-color-form-field-placeholder: @subtext0;
    --bard-color-discovery-carousel-background: @mantle;
    --bard-color-discovery-carousel-icon: @accent;
    --bard-color-example-prompt-background: @crust;
    --bard-color-bard-mode-logo-prefix: @subtext1;
    --bard-color-neutral-96: @crust;
    --bard-color-adv-marketing-basic-background: @surface0;
    --bard-color-adv-marketing-product-background: @surface0;
    --bard-color-adv-marketing-disclaimer: @subtext0;
    --bard-color-input-area-buttons-selected-background: fade(
      @accent,
      70%
    );
    --bard-color-zero-state-card-selected: fade(@accent, 30%);
    --bard-color-zero-state-prompt-chip-background: fade(@accent, 50%);
    --bard-color-zero-state-prompt-chip-text: lighten(@accent, 5%);
    --bard-color-regular-banner: @accent;
    --bard-color-regular-banner-text: @crust;
    --bard-color-skeleton-loader-background-1-rgb: #lib.rgbify(@mantle)[];
    --bard-color-skeleton-loader-background-2-rgb: #lib.rgbify(@accent)[];
    --bard-color-skeleton-loader-background-3-rgb: #lib.rgbify(@accent)[];
    --bard-color-brand-text-gradient-stop-1: @blue;
    --bard-color-brand-text-gradient-stop-2: @sapphire;
    --bard-color-brand-text-gradient-stop-3: @peach;
    --bard-color-on-surface-opacity-12: fade(@teal, 10%);
    --bard-color-footer-background: @mantle;
    --bard-color-draft-chip-background: @surface0;
    --bard-color-processing-animation-color-1: @surface1;
    --bard-color-processing-animation-color-2: @crust;
    --bard-color-tunable-selection-button: @mantle;
    --bard-color-tunable-selection-button-icon: @text;
    --bard-color-feedback-form-container-background: @mantle;
    --bard-color-fact-check-tooltip-entailed-highlight: fade(@green, 25%);
    --bard-color-fact-check-tooltip-entailed-selected: fade(@green, 35%);
    --bard-color-fact-check-tooltip-contradictory-highlight: fade(@red, 25%);
    --bard-color-fact-check-tooltip-contradictory-selected: fade(@red, 40%);
    --bard-color-factuality-form-background: @mantle;
    --bard-color-fact-check-button-complete: @surface0;
    --bard-color-fact-check-button-loading: @surface1;
    --bard-color-tunable-selection-menu-text: @text;
    --bard-color-tunable-selection-menu-background: @mantle;
    --bard-color-tunable-selection-textarea-background: @base;
    --bard-color-tunable-selection-shimmer-non-advanced: @accent;
    --bard-color-onegooglebar-product-controls: @text;
    --bard-color-adv-marketing-check: @text;

    --mdc-switch-selected-hover-handle-color: lighten(@accent, 10%);
    --mdc-switch-selected-focus-handle-color: lighten(@accent, 10%);
    --mdc-switch-selected-pressed-handle-color: lighten(@accent, 15%);
    --mdc-switch-selected-track-color: fade(@accent, 50%);
    --mdc-switch-selected-hover-track-color: fade(@accent, 50%);
    --mdc-switch-selected-focus-track-color: fade(@accent, 50%);
    --mdc-switch-selected-pressed-track-color: fade(@accent, 50%);
    --mdc-switch-selected-handle-color: @accent;
    --mdc-switch-unselected-handle-color: @subtext0;
    --mdc-switch-unselected-hover-handle-color: @subtext1;
    --mdc-switch-unselected-focus-handle-color: @text;
    --mdc-switch-unselected-pressed-handle-color: @text;
    --mdc-switch-unselected-track-color: @surface2;
    --mdc-switch-unselected-hover-track-color: @surface2;
    --mdc-switch-unselected-pressed-track-color: @surface2;
    --mdc-switch-unselected-focus-track-color: @surface2;
    --mdc-checkbox-selected-icon-color: @accent;
    --mdc-checkbox-selected-checkmark-color: var(--gem-sys-color--on-primary);
    --mdc-checkbox-selected-hover-icon-color: @accent;
    --mdc-checkbox-selected-pressed-icon-color: @accent;
    --mdc-checkbox-selected-focus-icon-color: @accent;
    --mdc-checkbox-selected-focus-state-layer-color: @accent;
    --mdc-checkbox-selected-hover-state-layer-color: @accent;
    --mdc-checkbox-selected-pressed-state-layer-color: @text;
    --mdc-checkbox-unselected-pressed-state-layer-color: @accent;
    --mdc-checkbox-unselected-focus-state-layer-color: @text;
    --mdc-checkbox-unselected-hover-state-layer-color: @text;
    --mdc-checkbox-unselected-focus-icon-color: @text;
    --mdc-checkbox-unselected-icon-color: @subtext1;
    --mdc-checkbox-unselected-hover-icon-color: @text;
    --mdc-text-button-label-text-color: @subtext1;
    --mdc-text-button-hover-label-text-color: @overlay2;
    --mdc-list-list-item-hover-label-text-color: @text;
    --mdc-filled-button-label-text-color: @crust;
    --mdc-circular-progress-active-indicator-color: @accent;
    --mdc-outlined-button-focus-outline-color: @text;
    --mdc-outlined-button-hover-label-text-color: @subtext1;
    --mdc-list-list-item-focus-label-text-color: @text;
    --mdc-icon-button-disabled-icon-color: @surface2;
    --mdc-outlined-text-field-input-text-color: @text;
    --mdc-outlined-text-field-focus-outline-color: @accent;
    --mdc-outlined-text-field-outline-color: @overlay1;

    --mat-app-text-color: @text;
    --mat-text-button-state-layer-color: @overlay2;
    --mat-sidenav-container-text-color: @text;
    --mat-expansion-header-text-color: @text;
    --mat-expansion-header-indicator-color: @text;
    --mat-expansion-container-text-color: @text;
    --mat-checkbox-label-text-color: @text;
    --mat-bottom-sheet-container-text-color: @text;
    --mat-bottom-sheet-container-background-color: @base;
    --mat-menu-item-hover-state-layer-color: @surface0;
    --mat-menu-item-focus-state-layer-color: @surface0;
    --mat-menu-item-label-text-color: @text;
    --mat-menu-container-color: @base;
    --mat-menu-item-icon-color: @text;
    --mat-filled-button-state-layer-color: @overlay2;
    --mat-focus-indicator-border-color: @accent;
    --mat-fab-small-hover-state-layer-opacity: 1;
    --mat-divider-color: @overlay2;

    --gm-outlinedtextfield-outline-color: @subtext0;
    --gm-outlinedtextfield-outline-color--stateful: @accent;
    --gm-outlinedtextfield-ink-color: @text;
    --gm3-sys-color-on-secondary-container: @crust;
    --gm3-sys-color-secondary-container: @text;

    --gem-sys-color--surface: @base;
    --gem-sys-color--surface-container: @mantle;
    --gem-sys-color--surface--rgb: #lib.rgbify(@base)[];
    --gem-sys-color--on-surface: @text;
    --gem-sys-color--on-surface-variant: @subtext1;
    --gem-sys-color--outline-variant: @surface1;
    --gem-sys-color--surface-container-high: @surface0;
    --gem-sys-color--surface-container-low: lighten(@mantle, 2%);
    --gem-sys-color--outline: @subtext0;
    --gem-sys-color--on-primary-container: @text;
    --gem-sys-color--on-primary-fixed: darken(@accent, 40%);
    --gem-sys-color--on-primary: darken(@accent, 60%);
    --gem-sys-color--primary: @accent;
    --gem-sys-color--primary-container: fade(@accent, 60%);
    --gem-sys-color--on-surface--rgb: #lib.rgbify(@subtext0)[];
    --gem-sys-color--surface-dim--rgb: #lib.rgbify(@crust)[];
    --gem-sys-color--surface-container-highest: @surface0;
    --gem-sys-color--primary-fixed: @text;
    --gem-sys-color--on-secondary: fade(@accent, 30%);
    --gem-sys-color--surface-variant: @surface0;
    --gem-sys-color--surface-bright: @surface0;

    --og-theme-color: @text;

    .action-icon {
      --gem-sys-color--on-primary: @accent;
      --gem-sys-color--on-surface-variant: @mantle;
    }
    .draft-preview-label-chip.selected {
      color: @crust;
    }
    .buttons-container-link-button {
      color: @crust;
    }
    .mdc-text-field--outlined:hover:not(
      .mdc-text-field--disabled,
      .mdc-text-field--focused
    ) {
      .mdc-notched-outline__leading,
      .mdc-notched-outline__trailing {
        border-color: @text !important;
      }
    }
    .gmat-mdc-dialog .mat-mdc-dialog-container {
      .mdc-dialog__content {
        color: @subtext0;
      }
      .mdc-dialog__title {
        color: @text;
      }
    }
    .gmat-mdc-button.mat-mdc-outlined-button.mat-unthemed {
      --mdc-outlined-button-outline-color: @overlay0;
      --mdc-outlined-button-label-text-color: @subtext0;
    }
    .gmat-mdc-button.mat-mdc-outlined-button {
      --mat-outlined-button-state-layer-color: @overlay2;
    }
    .gmat-mdc-button.mat-mdc-outlined-button:not(
      .mat-mdc-button-disabled,
      [disabled],
      :disabled
    ).mdc-ripple-upgraded--background-focused,
    .gmat-mdc-button.mat-mdc-outlined-button:not(
      .mat-mdc-button-disabled,
      [disabled],
      :disabled,
      .mdc-ripple-upgraded
    ):focus {
      color: @text;
    }
    .gmat-mdc-chip {
      --mdc-chip-label-text-color: @subtext0;
    }
    .gmat-mdc-chip.gmat-hairline-chip {
      --mdc-chip-outline-color: @subtext0;
    }
    .gmat-mdc-chip.cdk-focused {
      --mdc-chip-label-text-color: @text;
    }
    .mat-mdc-standard-chip {
      --mdc-chip-hover-state-layer-color: @overlay1;
      --mdc-chip-focus-state-layer-color: @overlay2;
    }
    .mdc-tooltip__surface {
      --mdc-plain-tooltip-container-color: @overlay0;
      --mdc-plain-tooltip-supporting-text-color: @text;
    }
    .mdc-form-field {
      --mdc-form-field-label-text-color: @text;
    }
    .mdc-icon-button {
      --mdc-icon-button-icon-color: @text !important;
    }
    .mdc-dialog__surface {
      background-color: @base !important;
    }
    .expandable-button:disabled {
      color: rgba(var(--gem-sys-color--on-surface--rgb), 0.38);
    }
    .mat-mdc-progress-bar {
      --mdc-linear-progress-active-indicator-color: @accent;
      --mdc-linear-progress-track-color: fade(@accent, 50%);
    }
    .mdc-list-item,
    .gmat-mdc-list {
      --mdc-list-list-item-hover-state-layer-color: @overlay1;
      --mdc-list-list-item-label-text-color: @text;
      --mdc-list-list-item-leading-icon-color: @text;
      --mdc-list-list-item-focus-state-layer-color: @overlay2;
    }
    .gmat-mdc-button.mat-mdc-button.mat-primary {
      --mdc-text-button-label-text-color: @accent;
      --mdc-text-button-hover-label-text-color: lighten(@accent, 5%);
      --mdc-text-button-focus-label-text-color: lighten(@accent, 8%);
    }
    .gmat-mdc-button.mat-mdc-button.mat-unthemed {
      --mat-text-button-state-layer-color: @overlay2;
    }
    .gmat-mdc-button.mat-mdc-icon-button {
      --mat-icon-button-state-layer-color: @overlay2;
    }
    .gmat-mdc-button.mat-mdc-fab:not(
      .mat-mdc-button-disabled
    ).mat-primary.gmat-mdc-fab-fill {
      --mdc-fab-container-color: @accent;
      --mat-fab-foreground-color: @crust;
    }
    .gmat-mdc-button.mat-mdc-mini-fab:not(
      .mat-mdc-button-disabled
    ).mat-primary.gmat-mdc-fab-outline {
      --mat-fab-small-state-layer-color: @surface0;
    }
    .mat-mdc-fab:not(.mdc-riple-upgraded):focus::before,
    .mat-mdc-mini-fab:not(.mdc-riple-upgraded):focus::before {
      background: @surface2;
    }
    .mat-mdc-menu-panel {
      background-color: @base !important;
    }
    .mat-mdc-fab.mat-accent {
      --mat-fab-foreground-color: @text;
    }
    .xap-count-badge-dot {
      background-color: @red;
    }
    & when (@flavor = latte) {
      --gem-sys-color--on-primary-fixed: @accent;
      --gem-sys-color--on-primary: @mantle;
      --gem-sys-color--primary-fixed: @crust;
    }
    [data-mat-icon-name="search"] svg {
      > path:nth-child(1) {
        fill: @blue;
      }
      > path:nth-child(2) {
        fill: @green;
      }
      > path:nth-child(3) {
        fill: @yellow;
      }
      > path:nth-child(4) {
        fill: @red;
      }
    }
    .google-logo img {
      @svg: escape(
        '<svg xmlns="http://www.w3.org/2000/svg" width="148" height="48" viewBox="0 0 148 48"><path d="M113 2.43h4.93v33.53H113zM49.5 14.04c-6.31 0-11.45 4.82-11.45 11.46 0 6.6 5.14 11.46 11.45 11.46S60.95 32.1 60.95 25.5c0-6.64-5.14-11.46-11.45-11.46m0 18.4c-3.46 0-6.44-2.86-6.44-6.94 0-4.12 2.98-6.94 6.44-6.94s6.44 2.82 6.44 6.94c0 4.08-2.98 6.94-6.44 6.94m25-18.35c-6.31 0-11.45 4.82-11.45 11.46 0 6.6 5.14 11.46 11.45 11.46s11.45-4.86 11.45-11.46c0-6.65-5.14-11.46-11.45-11.46m0 18.4c-3.46 0-6.44-2.86-6.44-6.94 0-4.12 2.98-6.94 6.44-6.94s6.44 2.82 6.44 6.94c0 4.07-2.98 6.94-6.44 6.94m30.73-15.84h-.17c-1.13-1.34-3.3-2.56-6.03-2.56-5.73 0-10.98 5.03-10.98 11.5C88.05 32.01 93.3 37 99.03 37c2.73 0 4.9-1.22 6.03-2.6h.17v1.65c0 4.38-2.34 6.73-6.12 6.73-3.08 0-4.99-2.21-5.77-4.08l-4.38 1.82c1.26 3.04 4.6 6.77 10.15 6.77 5.9 0 10.89-3.47 10.89-11.93V15h-4.77zm-5.78 15.84c-3.47 0-6.38-2.91-6.38-6.9 0-4.04 2.91-6.99 6.38-6.99 3.43 0 6.12 2.95 6.12 6.99 0 3.99-2.69 6.9-6.12 6.9m-71.22-4.08c1.39-1.39 2.32-3.42 2.67-6.41H19.22v-4.76H35.6c.17.87.3 2.06.3 3.2 0 3.66-1 8.19-4.22 11.41-3.14 3.27-7.14 5.01-12.46 5.01C9.38 36.86 1.1 28.84 1.1 19S9.38 1.14 19.22 1.14c5.44 0 9.32 2.13 12.24 4.92L28.02 9.5c-2.09-1.96-4.92-3.48-8.8-3.48-7.19 0-12.81 5.79-12.81 12.98s5.62 12.98 12.81 12.98c4.66 0 7.32-1.87 9.01-3.57m103.54 4.08c-2.56 0-4.38-1.17-5.55-3.47l15.32-6.34-.52-1.3c-.95-2.56-3.86-7.29-9.81-7.29-5.9 0-10.81 4.64-10.81 11.46 0 6.42 4.86 11.46 11.37 11.46 5.25 0 8.29-3.21 9.55-5.08l-3.91-2.6c-1.3 1.9-3.08 3.16-5.64 3.16m-.39-13.98c2 0 3.69 1 4.25 2.43l-10.24 4.25c-.13-4.42 3.43-6.68 5.99-6.68" fill="@{subtext1}"/></svg>'
      );
      content: url("data:image/svg+xml,@{svg}");
    }
    [src="https://www.gstatic.com/lamda/images/replit_dark_24px_7d0347bf84c2570074db9.svg"],
    [src="https://www.gstatic.com/lamda/images/replit_light_24px_3a2ee6003110f3c8460c9.svg"] {
      @svg: escape(
        '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.334 8.669H5.252A1.25 1.25 0 0 1 4 7.417V3.252C4 2.559 4.56 2 5.252 2h5.83c.693 0 1.252.56 1.252 1.252z" fill="@{text}"/><path d="M19.416 15.333h-7.082V8.668h7.082c.689 0 1.248.56 1.248 1.248v4.165a1.25 1.25 0 0 1-1.248 1.252M11.082 22h-5.83a1.25 1.25 0 0 1-1.248-1.247v-4.165c0-.689.56-1.248 1.248-1.248h7.082v5.417c0 .68-.56 1.243-1.252 1.243" fill="@{text}"/></svg>'
      );
      content: url("data:image/svg+xml,@{svg}");
    }

    /* Gemini Advanced shadows */
    chat-window > div > input-container {
      background: unset;
    }
    input-container::before {
      background: unset;
    }
  }
}
