/* ==UserStyle==
@name Google Tasks Catppuccin
@namespace github.com/catppuccin/userstyles/styles/google-tasks
@homepageURL https://github.com/catppuccin/userstyles/tree/main/styles/google-tasks
@version 2025.03.20
@updateURL https://github.com/catppuccin/userstyles/raw/main/styles/google-tasks/catppuccin.user.less
@supportURL https://github.com/catppuccin/userstyles/issues?q=is%3Aopen+is%3Aissue+label%3Agoogle-tasks
@description Soothing pastel theme for Google Tasks
@author Catppuccin
@license MIT

@preprocessor less
@var select lightFlavor "Light Flavor" ["latte:Latte*", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha"]
@var select darkFlavor "Dark Flavor" ["latte:Latte", "frappe:Frappé", "macchiato:Macchiato", "mocha:Mocha*"]
@var select accentColor "Accent" ["rosewater:Rosewater", "flamingo:Flamingo", "pink:Pink", "mauve:Mauve*", "red:Red", "maroon:Maroon", "peach:Peach", "yellow:Yellow", "green:Green", "teal:Teal", "blue:Blue", "sapphire:Sapphire", "sky:Sky", "lavender:Lavender", "subtext0:Gray"]
==/UserStyle== */

@import "https://userstyles.catppuccin.com/lib/lib.less";

// @import "https://userstyles.catppuccin.com/lib/m3.less";
@import "https://github.com/catppuccin/userstyles/raw/refs/heads/feat/m3-lib/lib/m3.less";

@-moz-document domain("tasks.google.com") {
  .vWh0f:not(.PNKKi) {
    #catppuccin(@lightFlavor);
  }
  
  @media (prefers-color-scheme: dark) {
    .vWh0f.vWh0f {
      #catppuccin(@darkFlavor);
    }
  }

  #catppuccin(@flavor) {
    #lib.palette();
    #lib.defaults();

    #__m3.base();
    #__m3.with-prefix(gm3-sys-color-);
    #__m3.with-prefix(tasks-);
    
    --tasks-default-text-color: var(--gm3-sys-color-on-background);
    --tasks-scrollbar: var(--gm3-sys-color-surface-variant);
    --tasks-scrollbar-hover: var(--gm3-sys-color-surface-variant);
    --tasks-scrollbar-active: var(--gm3-sys-color-surface-variant);
    --tasks-on-hover-field-background: rgba(var(--gm3-sys-color-on-secondary-container-rgb), 0.08);
    --tasks-on-focus-field-background: rgba(var(--gm3-sys-color-on-secondary-container-rgb), 0.08);
    --tasks-dialog-scrim-color: rgba(var(--gm3-sys-color-scrim-rgb), 0.32);
    --tasks-editing-task-background: var(--gm3-sys-color-surface-container);
    --tasks-list-background: var(--gm3-sys-color-surface);
    --tasks-body-background: var(--gm3-sys-color-surface-container-low);
    
    --gm2-primary-variant: var(--gm3-sys-color-primary);
    --gm2-secondary-grey: var(--gm3-sys-color-outline);
    --on-hover-background: fade(@text, 12%);
    --on-hover-color-primary: var(--gm3-sys-color-primary);
    --border-color: var(--gm3-sys-color-outline-variant);
    --elevation-1dp-color: var(--gm3-sys-color-surface-container-lowest);
    --elevation-2dp-color: var(--gm3-sys-color-surface-container-low);
    --elevation-3dp-color: var(--gm3-sys-color-surface-container);
    --elevation-4dp-color: var(--gm3-sys-color-surface-container-high);
    --elevation-5dp-color: var(--gm3-sys-color-surface-container-highest);
    --gm2-shadow-elevation-1dp: 0 1px 2px 0 rgba(var(--gm3-sys-color-shadow-rgb), 0.6), 0 1px 3px 1px rgba(var(--gm3-sys-color-shadow-rgb), 0.3);
    --quantum-papermenu-menuitem-color: var(--tasks-on-background);
    --quantum-papermenu-menuitem-disabled-color: fade(@text, 50%);
    --quantum-papermenu-separator-border: 1px solid var(--gm3-sys-color-outline-variant);
    --quantum-item-highlighted-bg-color: fade(@text, 12%);
    --collapsible-section-button-color: var(--gm3-sys-color-on-surface);
    --action-menu-overflow-icon-color: var(--gm3-sys-color-on-surface);
    --abstract-picker-el-label-color: var(--gm3-sys-color-on-surface);
    --picker-disabled: fade(@text, 50%);
    --date-picker-current-month-text-color: var(--tasks-on-background);
    --date-picker-is-today-bg-color: fade(@accent, 24%);
    --date-picker-is-today-text-color: var(--gm3-sys-color-on-surface);
    --date-picker-text-color: var(--tasks-on-background);
    --date-picker-is-disabled-text-color: fade(@text, 50%);
    --date-picker-bottom-border-color: var(--tasks-outline-variant);
    --date-chip-bg-color: var(--tasks-background);
    --recurrence-picker-weekday-toggle-bg-color: var(--gm3-sys-color-surface-container);
    --recurrence-picker-text-input-bg-color: transparent;
    --list-picker-option-is-selected-bg-color: var(--on-hover-background);
    --header-el-border-color: var(--gm3-sys-color-outline-variant);
    --drag-card-box-shadow: 0 1px 3px 0 rgba(var(--gm3-sys-color-shadow-rgb), 0.6), 0 4px 8px 3px rgba(var(--gm3-sys-color-shadow-rgb), 0.3);
    --drag-card-border-color: var(--elevation-3dp-color);
    --drag-card-title-color: var(--tasks-on-background);
    --space-tasks-task-item-hover-border-color: var(--elevation-1dp-color);
    --space-tasks-task-item-hover-box-shadow: 0 1px 2px 0 rgba(var(--gm3-sys-color-shadow-rgb), 0.6), 0 1px 3px 1px rgba(var(--gm3-sys-color-shadow-rgb), 0.3);
    --task-list-switcher-el-text-color: var(--tasks-on-background);
    --task-list-switcher-drag-indicator-color: var(--tasks-on-background);
    --task-list-switcher-clone-box-shadow: 0 1px 3px 0 rgba(var(--gm3-sys-color-shadow-rgb), 0.6), 0 4px 8px 3px rgba(var(--gm3-sys-color-shadow-rgb), 0.3);
    --task-list-switcher-clone-bg-color: var(--elevation-3dp-color);
    --task-list-switcher-highlighted-item-bg-color: var(--elevation-3dp-color);
    --task-list-switcher-button-color: var(--tasks-on-background);
    --select-selector-bg-color: var(--elevation-3dp-color);
    --select-selector-border-color: var(--gm3-sys-color-outline);
    --assignee-chip-icon-color: var(--gm3-sys-color-primary);
    --assignee-chip-highlighted-font-color: var(--gm3-sys-color-primary);
    --hub-chip-hover-background: lighten(@base, 12%);
    --hub-chip-focus-background: lighten(@base, 14%);
    --hub-chip-active-background: lighten(@base, 24%);
    --hub-chip-hover-focus-background: lighten(@base, 26%);
    --tasks-today-chip: var(--gm3-sys-color-primary);
  
    .AlKn5.N2RpBe {
      color: var(--gm3-sys-color-on-primary);
    }

    .RM9ulf {
      color: var(--gm3-sys-color-inverse-on-surface);
    }

    .R8qYlc {
      background-color: var(--gm3-sys-color-inverse-surface);
    }
  }
}
